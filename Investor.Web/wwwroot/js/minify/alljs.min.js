function openWinFb(){myWin=open("http://www.facebook.com/sharer.php?u=http://solidbrain.com.ua/","displayWindow","width=520,height=300,left=350,top=170,status=no,toolbar=no,menubar=no")}var Cropper,myLanguage;(function(n,t){typeof define=="function"&&define.amd?define(["jquery"],function(n){return t(n)}):typeof module=="object"&&module.exports?module.exports=t(require("jquery")):t(n.jQuery)})(this,function(n){
/** File generated by Grunt -- do not modify
 *  JQUERY-FORM-VALIDATOR
 *
 *  @version 2.3.77
 *  @website http://formvalidator.net/
 *  @author Victor Jonsson, http://victorjonsson.se
 *  @license MIT
 */
(function(n,t,i){function r(n,t){this.$form=n;this.$input=t;this.reset();t.on("change paste",this.reset.bind(this))}var u=function(){return!1},f=null,e={numHalted:0,haltValidation:function(t){this.numHalted++;n.formUtils.haltValidation=!0;t.unbind("submit",u).bind("submit",u).find('*[type="submit"]').addClass("disabled").attr("disabled","disabled")},unHaltValidation:function(t){this.numHalted--;this.numHalted===0&&(n.formUtils.haltValidation=!1,t.unbind("submit",u).find('*[type="submit"]').removeClass("disabled").removeAttr("disabled","disabled"))}};r.prototype.reset=function(){this.haltedFormValidation=!1;this.hasRun=!1;this.isRunning=!1;this.result=i};r.prototype.run=function(n,t){return n==="keyup"?null:this.isRunning?(f=n,this.haltedFormValidation||(e.haltValidation(),this.haltedFormValidation=!0),null):this.hasRun?this.result:(f=n,e.haltValidation(this.$form),this.haltedFormValidation=!0,this.isRunning=!0,this.$input.attr("disabled","disabled").addClass("async-validation"),this.$form.addClass("async-validation"),t(function(n){this.done(n)}.bind(this)),null)};r.prototype.done=function(n){this.result=n;this.hasRun=!0;this.isRunning=!1;this.$input.removeAttr("disabled").removeClass("async-validation");this.$form.removeClass("async-validation");this.haltedFormValidation&&(e.unHaltValidation(this.$form),f==="submit"?this.$form.trigger("submit"):this.$input.trigger("validation.revalidate"))};r.loadInstance=function(n,t,i){var f,u=t.get(0);return u.asyncValidators||(u.asyncValidators={}),u.asyncValidators[n]?f=u.asyncValidators[n]:(f=new r(i,t),u.asyncValidators[n]=f),f};n.formUtils=n.extend(n.formUtils||{},{asyncValidation:function(n,t,i){return this.warn("Use of deprecated function $.formUtils.asyncValidation, use $.formUtils.addAsyncValidator() instead"),r.loadInstance(n,t,i)},addAsyncValidator:function(t){var i=n.extend({},t),u=i.validatorFunction;i.async=!0;i.validatorFunction=function(n,t,f,e,o,s){var h=r.loadInstance(this.name,t,o);return h.run(s,function(r){u.apply(i,[r,n,t,f,e,o,s])})};this.addValidator(i)}});n(t).bind("validatorsLoaded formValidationSetup",function(t,i){i||(i=n("form"));i.find("[data-validation]").each(function(){var t=n(this);t.valAttr("async",!1);n.each(n.split(t.attr("data-validation")),function(i,r){var u=n.formUtils.validators["validate_"+r];u&&u.async&&t.valAttr("async","yes")})})})})(n,window),function(n){"use strict";function t(t){t&&t.errorMessagePosition==="custom"&&typeof t.errorMessageCustom=="function"&&(n.formUtils.warn("Use of deprecated function errorMessageCustom, use config.submitErrorMessageCallback instead"),t.submitErrorMessageCallback=function(n,i){t.errorMessageCustom(n,t.language.errorTitle,i,t)})}function i(t){if(t.errorMessagePosition&&typeof t.errorMessagePosition=="object"){n.formUtils.warn("Deprecated use of config parameter errorMessagePosition, use config.submitErrorMessageCallback instead");var i=t.errorMessagePosition;t.errorMessagePosition="top";t.submitErrorMessageCallback=function(){return i}}}function r(t){var i=t.find("[data-validation-if-checked]");i.length&&n.formUtils.warn('Detected use of attribute "data-validation-if-checked" which is deprecated. Use "data-validation-depends-on" provided by module "logic"');i.on("beforeValidation",function(){var i=n(this),f=i.valAttr("if-checked"),r=n('input[name="'+f+'"]',t),e=r.is(":checked"),o=(n.formUtils.getValue(r)||"").toString(),u=i.valAttr("if-checked-value");e&&(!u||u===o)||i.valAttr("skipped",!0)})}function u(t){var r={se:"sv",cz:"cs",dk:"da"},i;t.lang in r&&(i=r[t.lang],n.formUtils.warn('Deprecated use of lang code "'+t.lang+'" use "'+i+'" instead'),t.lang=i)}n.fn.validateForm=function(t,i){return n.formUtils.warn("Use of deprecated function $.validateForm, use $.isValid instead"),this.isValid(t,i,!0)};n(window).on("formValidationPluginInit",function(n,r){u(r);t(r);i(r)}).on("validatorsLoaded formValidationSetup",function(t,i){i||(i=n("form"));r(i)})}(n),function(n){"use strict";var t={resolveErrorMessage:function(n,t,i,r,u){var e=r.validationErrorMsgAttribute+"-"+i.replace("validate_",""),f=n.attr(e);return f||(f=n.attr(r.validationErrorMsgAttribute),f||(f=typeof t.errorMessageKey!="function"?u[t.errorMessageKey]:u[t.errorMessageKey(r)],f||(f=t.errorMessage))),f},getParentContainer:function(t){if(t.valAttr("error-msg-container"))return n(t.valAttr("error-msg-container"));var i=t.parent();return t.attr("type")==="checkbox"&&t.closest(".checkbox").length?i=t.closest(".checkbox").parent():t.attr("type")==="radio"&&t.closest(".radio").length&&(i=t.closest(".radio").parent()),i.closest(".input-group").length&&(i=i.closest(".input-group").parent()),i},applyInputErrorStyling:function(n,t){n.addClass(t.errorElementClass).removeClass(t.successElementClass);this.getParentContainer(n).addClass(t.inputParentClassOnError).removeClass(t.inputParentClassOnSuccess);t.borderColorOnError!==""&&n.css("border-color",t.borderColorOnError)},applyInputSuccessStyling:function(n,t){n.addClass(t.successElementClass);this.getParentContainer(n).addClass(t.inputParentClassOnSuccess)},removeInputStylingAndMessage:function(n,i){var r,u;n.removeClass(i.successElementClass).removeClass(i.errorElementClass).css("border-color","");r=t.getParentContainer(n);r.removeClass(i.inputParentClassOnError).removeClass(i.inputParentClassOnSuccess);typeof i.inlineErrorMessageCallback=="function"?(u=i.inlineErrorMessageCallback(n,!1,i),u&&u.html("")):r.find("."+i.errorMessageClass).remove()},removeAllMessagesAndStyling:function(i,r){if(typeof r.submitErrorMessageCallback=="function"){var u=r.submitErrorMessageCallback(i,!1,r);u&&u.html("")}else i.find("."+r.errorMessageClass+".alert").remove();i.find("."+r.errorElementClass+",."+r.successElementClass).each(function(){t.removeInputStylingAndMessage(n(this),r)})},setInlineMessage:function(t,i,r){var s;this.applyInputErrorStyling(t,r);var e=document.getElementById(t.attr("name")+"_err_msg"),f=!1,o=function(r){n.formUtils.$win.trigger("validationErrorDisplay",[t,r]);r.html(i)},h=function(){var e=!1;f.find("."+r.errorMessageClass).each(function(){if(this.inputReferer===t[0])return e=n(this),!1});e?i?o(e):e.remove():i!==""&&(u=n('<div class="'+r.errorMessageClass+' alert"><\/div>'),o(u),u[0].inputReferer=t[0],f.prepend(u))},u;if(e)n.formUtils.warn("Using deprecated element reference "+e.id),f=n(e),h();else if(typeof r.inlineErrorMessageCallback=="function"){if(f=r.inlineErrorMessageCallback(t,i,r),!f)return;h()}else s=this.getParentContainer(t),u=s.find("."+r.errorMessageClass+".help-block"),u.length===0&&(u=n("<span><\/span>").addClass("help-block").addClass(r.errorMessageClass),u.appendTo(s)),o(u)},setMessageInTopOfForm:function(t,i,r,u){var f='<div class="{errorMessageClass} alert alert-danger"><strong>{errorTitle}<\/strong><ul>{fields}<\/ul><\/div>',e=!1,o;(typeof r.submitErrorMessageCallback!="function"||(e=r.submitErrorMessageCallback(t,i,r),e))&&(o={errorTitle:u.errorTitle,fields:"",errorMessageClass:r.errorMessageClass},n.each(i,function(n,t){o.fields+="<li>"+t+"<\/li>"}),n.each(o,function(n,t){f=f.replace("{"+n+"}",t)}),e?e.html(f):t.children().eq(0).before(n(f)))}};n.formUtils=n.extend(n.formUtils||{},{dialogs:t})}(n),function(n,t,i){"use strict";var r=0;n.fn.validateOnBlur=function(t,i){var u=this,r=this.find("*[data-validation]");return r.each(function(){var r=n(this),f;r.is("[type=radio]")&&(f=u.find('[type=radio][name="'+r.attr("name")+'"]'),f.bind("blur.validation",function(){r.validateInputOnBlur(t,i,!0,"blur")}),i.validateCheckboxRadioOnClick&&f.bind("click.validation",function(){r.validateInputOnBlur(t,i,!0,"click")}))}),r.bind("blur.validation",function(){n(this).validateInputOnBlur(t,i,!0,"blur")}),i.validateCheckboxRadioOnClick&&this.find("input[type=checkbox][data-validation],input[type=radio][data-validation]").bind("click.validation",function(){n(this).validateInputOnBlur(t,i,!0,"click")}),this};n.fn.validateOnEvent=function(t,i){var r=this[0].nodeName==="FORM"?this.find("*[data-validation-event]"):this;return r.each(function(){var u=n(this),r=u.valAttr("event");r&&u.unbind(r+".validation").bind(r+".validation",function(u){(u||{}).keyCode!==9&&n(this).validateInputOnBlur(t,i,!0,r)})}),this};n.fn.showHelpOnFocus=function(t){return t||(t="data-validation-help"),this.find("textarea,input").each(function(){var i=n(this),u="jquery_form_help_"+ ++r,f=i.attr(t);i.removeClass("has-help-text").unbind("focus.help").unbind("blur.help");f&&i.addClass("has-help-txt").bind("focus.help",function(){var t=i.parent().find("."+u);t.length===0&&(t=n("<span />").addClass(u).addClass("help").addClass("help-block").text(f).hide(),i.after(t));t.fadeIn()}).bind("blur.help",function(){n(this).parent().find("."+u).fadeOut("slow")})}),this};n.fn.validate=function(t,i,r){var u=n.extend({},n.formUtils.LANG,r||{});this.each(function(){var r=n(this),f=r.closest("form").get(0)||{},e=f.validationConfig||n.formUtils.defaultConfig();r.one("validation",function(n,i){typeof t=="function"&&t(i,this,n)});r.validateInputOnBlur(u,n.extend({},e,i||{}),!0)})};n.fn.willPostponeValidation=function(){return(this.valAttr("suggestion-nr")||this.valAttr("postpone")||this.hasClass("hasDatepicker"))&&!t.postponedValidation};n.fn.validateInputOnBlur=function(i,r,u,f){var s,h;if(n.formUtils.eventType=f,this.willPostponeValidation())return s=this,h=this.valAttr("postpone")||200,t.postponedValidation=function(){s.validateInputOnBlur(i,r,u,f);t.postponedValidation=!1},setTimeout(function(){t.postponedValidation&&t.postponedValidation()},h),this;i=n.extend({},n.formUtils.LANG,i||{});n.formUtils.dialogs.removeInputStylingAndMessage(this,r);var e=this,l=e.closest("form"),o=n.formUtils.validateInput(e,i,r,l,f),c=function(){e.validateInputOnBlur(i,r,!1,"blur.revalidated")};if(f==="blur")e.unbind("validation.revalidate",c).one("validation.revalidate",c);return u&&e.removeKeyUpValidation(),o.shouldChangeDisplay&&(o.isValid?n.formUtils.dialogs.applyInputSuccessStyling(e,r):n.formUtils.dialogs.setInlineMessage(e,o.errorMsg,r)),!o.isValid&&u&&e.validateOnKeyUp(i,r),this};n.fn.validateOnKeyUp=function(t,i){return this.each(function(){var r=n(this);r.valAttr("has-keyup-event")||r.valAttr("has-keyup-event","true").bind("keyup.validation",function(n){n.keyCode!==9&&r.validateInputOnBlur(t,i,!1,"keyup")})}),this};n.fn.removeKeyUpValidation=function(){return this.each(function(){n(this).valAttr("has-keyup-event",!1).unbind("keyup.validation")}),this};n.fn.valAttr=function(n,t){return t===i?this.attr("data-validation-"+n):t===!1||t===null?this.removeAttr("data-validation-"+n):(n=n.length>0?"-"+n:"",this.attr("data-validation"+n,t))};n.fn.isValid=function(t,i,r){var h,u;if(n.formUtils.isLoadingModules)return h=this,setTimeout(function(){h.isValid(t,i,r)},200),null;i=n.extend({},n.formUtils.defaultConfig(),i||{});t=n.extend({},n.formUtils.LANG,t||{});r=r!==!1;n.formUtils.errorDisplayPreventedWhenHalted&&(delete n.formUtils.errorDisplayPreventedWhenHalted,r=!1);var o=function(t,u){n.inArray(t,s)<0&&s.push(t);e.push(u);u.valAttr("current-error",t);r&&n.formUtils.dialogs.applyInputErrorStyling(u,i)},c=[],s=[],e=[],f=this,l=function(t,r){return r==="submit"||r==="button"||r==="reset"?!0:n.inArray(t,i.ignore||[])>-1};return r&&n.formUtils.dialogs.removeAllMessagesAndStyling(f,i),f.find("input,textarea,select").filter(':not([type="submit"],[type="button"])').each(function(){var r=n(this),e=r.attr("type"),h=e==="radio"||e==="checkbox",s=r.attr("name"),u;!l(s,e)&&(!h||n.inArray(s,c)<0)&&(h&&c.push(s),u=n.formUtils.validateInput(r,t,i,f,"submit"),u.isValid?u.isValid&&u.shouldChangeDisplay&&(r.valAttr("current-error",!1),n.formUtils.dialogs.applyInputSuccessStyling(r,i)):o(u.errorMsg,r))}),typeof i.onValidate=="function"&&(u=i.onValidate(f),n.isArray(u)?n.each(u,function(n,t){o(t.message,t.element)}):u&&u.element&&u.message&&o(u.message,u.element)),n.formUtils.isValidatingEntireForm=!1,e.length>0&&r&&(i.errorMessagePosition==="top"?n.formUtils.dialogs.setMessageInTopOfForm(f,s,i,t):n.each(e,function(t,r){n.formUtils.dialogs.setInlineMessage(r,r.valAttr("current-error"),i)}),i.scrollToTopOnError&&n.formUtils.$win.scrollTop(f.offset().top-20)),!r&&n.formUtils.haltValidation&&(n.formUtils.errorDisplayPreventedWhenHalted=!0),e.length===0&&!n.formUtils.haltValidation};n.fn.restrictLength=function(t){return new n.formUtils.lengthRestriction(this,t),this};n.fn.addSuggestions=function(t){var i=!1;return this.find("input").each(function(){var r=n(this);i=n.split(r.attr("data-suggestions"));i.length>0&&!r.hasClass("has-suggestions")&&(n.formUtils.suggest(r,i,t),r.addClass("has-suggestions"))}),this}}(n,window),function(n){"use strict";n.formUtils=n.extend(n.formUtils||{},{isLoadingModules:!1,loadedModules:{},registerLoadedModule:function(t){this.loadedModules[n.trim(t).toLowerCase()]=!0},hasLoadedModule:function(t){return n.trim(t).toLowerCase()in this.loadedModules},loadModules:function(t,i,r){var u,f;if(n.formUtils.isLoadingModules){setTimeout(function(){n.formUtils.loadModules(t,i,r)},100);return}u=function(t,i){var o=n.split(t),f=o.length,u=function(){f--;f===0&&(n.formUtils.isLoadingModules=!1,typeof r=="function"&&r())},e,s;f>0&&(n.formUtils.isLoadingModules=!0);e="?_="+(new Date).getTime();s=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];n.each(o,function(t,r){if(r=n.trim(r),r.length===0||n.formUtils.hasLoadedModule(r))u();else{var o=i+r+(r.slice(-3)===".js"?"":".js"),f=document.createElement("SCRIPT");typeof define=="function"&&define.amd?require([o+(o.slice(-7)===".dev.js"?e:"")],u):(f.type="text/javascript",f.onload=u,f.src=o+(o.slice(-7)===".dev.js"?e:""),f.onerror=function(){n.formUtils.warn("Unable to load form validation module "+o,!0);u()},f.onreadystatechange=function(){(this.readyState==="complete"||this.readyState==="loaded")&&(u(),this.onload=null,this.onreadystatechange=null)},s.appendChild(f))}})};i?u(t,i):(f=function(){var i=!1;return(n('script[src*="form-validator"]').each(function(){var n=this.src.split("form-validator")[1].split("node_modules").length>1;if(!n)return i=this.src.substr(0,this.src.lastIndexOf("/"))+"/",i==="/"&&(i=""),!1}),i!==!1)?(u(t,i),!0):!1},f()||n(function(){var n=f();n||typeof r=="function"&&r()}))}})}(n),function(n){"use strict";n.split=function(t,i,r){var e,u,f;if(r=r===undefined||r===!0,e="[,|"+(r?"\\s":"")+"-]\\s*",u=new RegExp(e,"g"),typeof i!="function")return t?(f=[],n.each(t.split(i?i:u),function(t,i){i=n.trim(i);i.length&&f.push(i)}),f):[];t&&n.each(t.split(u),function(t,r){return r=n.trim(r),r.length?i(r,t):void 0})};n.validate=function(t){var r=n.extend(n.formUtils.defaultConfig(),{form:"form",validateOnEvent:!1,validateOnBlur:!0,validateCheckboxRadioOnClick:!0,showHelpOnFocus:!0,addSuggestions:!0,modules:"",onModulesLoaded:null,language:!1,onSuccess:!1,onError:!1,onElementValidate:!1}),i;t=n.extend(r,t||{});n(window).trigger("formValidationPluginInit",[t]);t.lang&&t.lang!=="en"&&(i="lang/"+t.lang+".js",t.modules+=t.modules.length?","+i:i);n(t.form).each(function(i,r){r.validationConfig=t;var u=n(r);u.trigger("formValidationSetup",[u,t]);u.find(".has-help-txt").unbind("focus.validation").unbind("blur.validation");u.removeClass("has-validation-callback").unbind("submit.validation").unbind("reset.validation").find("input[data-validation],textarea[data-validation]").unbind("blur.validation");u.bind("submit.validation",function(i){var u=n(this),r=function(){return i.stopImmediatePropagation(),!1},f,e;if(n.formUtils.haltValidation)return r();if(n.formUtils.isLoadingModules)return setTimeout(function(){u.trigger("submit.validation")},200),r();if(f=u.isValid(t.language,t),n.formUtils.haltValidation)return r();if(f&&typeof t.onSuccess=="function"){if(e=t.onSuccess(u),e===!1)return r()}else{if(f||typeof t.onError!="function")return f?!0:r();t.onError(u);return r()}}).bind("reset.validation",function(){n.formUtils.dialogs.removeAllMessagesAndStyling(u,t)}).addClass("has-validation-callback");t.showHelpOnFocus&&u.showHelpOnFocus();t.addSuggestions&&u.addSuggestions();t.validateOnBlur&&(u.validateOnBlur(t.language,t),u.bind("html5ValidationAttrsFound",function(){u.validateOnBlur(t.language,t)}));t.validateOnEvent&&u.validateOnEvent(t.language,t)});t.modules!==""&&n.formUtils.loadModules(t.modules,null,function(){typeof t.onModulesLoaded=="function"&&t.onModulesLoaded();var i=typeof t.form=="string"?n(t.form):t.form;n.formUtils.$win.trigger("validatorsLoaded",[i,t])})}}(n),function(n,t){"use strict";var i=n(t);n.formUtils=n.extend(n.formUtils||{},{$win:i,defaultConfig:function(){return{ignore:[],errorElementClass:"error",successElementClass:"valid",borderColorOnError:"#b94a48",errorMessageClass:"form-error",validationRuleAttribute:"data-validation",validationErrorMsgAttribute:"data-validation-error-msg",errorMessagePosition:"inline",errorMessageTemplate:{container:'<div class="{errorMessageClass} alert alert-danger">{messages}<\/div>',messages:"<strong>{errorTitle}<\/strong><ul>{fields}<\/ul>",field:"<li>{msg}<\/li>"},scrollToTopOnError:!0,dateFormat:"yyyy-mm-dd",addValidClassOnAll:!1,decimalSeparator:".",inputParentClassOnError:"has-error",inputParentClassOnSuccess:"has-success",validateHiddenInputs:!1,inlineErrorMessageCallback:!1,submitErrorMessageCallback:!1}},validators:{},_events:{load:[],valid:[],invalid:[]},haltValidation:!1,addValidator:function(n){var t=n.name.indexOf("validate_")===0?n.name:"validate_"+n.name;n.validateOnKeyUp===undefined&&(n.validateOnKeyUp=!0);this.validators[t]=n},warn:function(n,i){"console"in t?typeof t.console.warn=="function"?t.console.warn(n):typeof t.console.log=="function"&&t.console.log(n):i&&alert(n)},getValue:function(n,t){var i=t?t.find(n):n,r;return i.length>0?(r=i.eq(0).attr("type"),r==="radio"||r==="checkbox"?i.filter(":checked").val()||"":i.val()||""):!1},validateInput:function(t,i,r,u,f){var o,c;r=r||n.formUtils.defaultConfig();i=i||n.formUtils.LANG;u.length||(u=t.parent());o=this.getValue(t);t.valAttr("skipped",!1).one("beforeValidation",function(){!t.attr("disabled")&&(t.is(":visible")||r.validateHiddenInputs)||t.valAttr("skipped",1)}).trigger("beforeValidation",[o,i,r]);var a=t.valAttr("optional")==="true",v=!o&&a,l=t.attr(r.validationRuleAttribute),s=!0,h="",e={isValid:!0,shouldChangeDisplay:!0,errorMsg:""};if(!l||v||t.valAttr("skipped"))return e.shouldChangeDisplay=r.addValidClassOnAll,e;if(c=t.valAttr("ignore"),c&&n.each(c.split(""),function(n,t){o=o.replace(new RegExp("\\"+t,"g"),"")}),n.split(l,function(e){e.indexOf("validate_")!==0&&(e="validate_"+e);var c=n.formUtils.validators[e];if(c){if(e==="validate_checkbox_group"&&(t=u.find('[name="'+t.attr("name")+'"]:eq(0)')),(f!=="keyup"||c.validateOnKeyUp)&&(s=c.validatorFunction(o,t,r,i,u,f)),!s)return r.validateOnBlur&&t.validateOnKeyUp(i,r),h=n.formUtils.dialogs.resolveErrorMessage(t,c,e,r,i),!1}else throw new Error('Using undefined validator "'+e+'". Maybe you have forgotten to load the module that "'+e+'" belongs to?');}),s===!1?(t.trigger("validation",!1),e.errorMsg=h,e.isValid=!1,e.shouldChangeDisplay=!0):s===null?e.shouldChangeDisplay=!1:(t.trigger("validation",!0),e.shouldChangeDisplay=!0),typeof r.onElementValidate=="function"&&h!==null)r.onElementValidate(e.isValid,t,u,h);return t.trigger("afterValidation",[e,f]),e},parseDate:function(t,i,r){var s=i.replace(/[a-zA-Z]/gi,"").substring(0,1),l="^",h=i.split(s||null),o,e,u,f,a,c;return(n.each(h,function(n,t){l+=(n>0?"\\"+s:"")+"(\\d{"+t.length+"})"}),l+="$",r&&(a=[],n.each(t.split(s),function(n,t){t.length===1&&(t="0"+t);a.push(t)}),t=a.join(s)),o=t.match(new RegExp(l)),o===null)?!1:(c=function(t,i,r){for(var u=0;u<i.length;u++)if(i[u].substring(0,1)===t)return n.formUtils.parseDateInt(r[u+1]);return-1},u=c("m",h,o),e=c("d",h,o),f=c("y",h,o),u===2&&e>28&&(f%4!=0||f%100==0&&f%400!=0)||u===2&&e>29&&(f%4==0||f%100!=0&&f%400==0)||u>12||u===0)?!1:this.isShortMonth(u)&&e>30||!this.isShortMonth(u)&&e>31||e===0?!1:[f,u,e]},parseDateInt:function(n){return n.indexOf("0")===0&&(n=n.replace("0","")),parseInt(n,10)},isShortMonth:function(n){return n%2==0&&n<7||n%2!=0&&n>7},lengthRestriction:function(t,i){var u=parseInt(i.text(),10),r=0,f=function(){var n=t.val().length,f;n>u&&(f=t.scrollTop(),t.val(t.val().substring(0,u)),t.scrollTop(f));r=u-n;r<0&&(r=0);i.text(r)};n(t).bind("keydown keyup keypress focus blur",f).bind("cut paste",function(){setTimeout(f,100)});n(document).bind("ready",f)},numericRangeCheck:function(t,i){var r=n.split(i),u=parseInt(i.substr(3),10);return(r.length===1&&i.indexOf("min")===-1&&i.indexOf("max")===-1&&(r=[i,i]),r.length===2&&(t<parseInt(r[0],10)||t>parseInt(r[1],10)))?["out",r[0],r[1]]:i.indexOf("min")===0&&t<u?["min",u]:i.indexOf("max")===0&&t>u?["max",u]:["ok"]},_numSuggestionElements:0,_selectedSuggestion:null,_previousTypedVal:null,suggest:function(t,r,u){var f={css:{maxHeight:"150px",background:"#FFF",lineHeight:"150%",textDecoration:"underline",overflowX:"hidden",overflowY:"auto",border:"#CCC solid 1px",borderTop:"none",cursor:"pointer"},activeSuggestionCSS:{background:"#E9E9E9"}},o=function(n,t){var i=t.offset();n.css({width:t.outerWidth(),left:i.left+"px",top:i.top+t.outerHeight()+"px"})},e;return u&&n.extend(f,u),f.css.position="absolute",f.css["z-index"]=9999,t.attr("autocomplete","off"),this._numSuggestionElements===0&&i.bind("resize",function(){n(".jquery-form-suggestions").each(function(){var t=n(this),i=t.attr("data-suggest-container");o(t,n(".suggestions-"+i).eq(0))})}),this._numSuggestionElements++,e=function(t){var i=t.valAttr("suggestion-nr");n.formUtils._selectedSuggestion=null;n.formUtils._previousTypedVal=null;n(".jquery-form-suggestion-"+i).fadeOut("fast")},t.data("suggestions",r).valAttr("suggestion-nr",this._numSuggestionElements).unbind("focus.suggest").bind("focus.suggest",function(){n(this).trigger("keyup");n.formUtils._selectedSuggestion=null}).unbind("keyup.suggest").bind("keyup.suggest",function(){var u=n(this),s=[],r=n.trim(u.val()).toLocaleLowerCase(),l;if(r!==n.formUtils._previousTypedVal){n.formUtils._previousTypedVal=r;var c=!1,h=u.valAttr("suggestion-nr"),i=n(".jquery-form-suggestion-"+h);i.scrollTop(0);r!==""&&(l=r.length>2,n.each(u.data("suggestions"),function(n,t){var i=t.toLocaleLowerCase();if(i===r)return s.push("<strong>"+t+"<\/strong>"),c=!0,!1;(i.indexOf(r)===0||l&&i.indexOf(r)>-1)&&s.push(t.replace(new RegExp(r,"gi"),"<strong>$&<\/strong>"))}));c||s.length===0&&i.length>0?i.hide():s.length>0&&i.length===0?(i=n("<div><\/div>").css(f.css).appendTo("body"),t.addClass("suggestions-"+h),i.attr("data-suggest-container",h).addClass("jquery-form-suggestions").addClass("jquery-form-suggestion-"+h)):s.length>0&&!i.is(":visible")&&i.show();s.length>0&&r.length!==s[0].length&&(o(i,u),i.html(""),n.each(s,function(t,r){n("<div><\/div>").append(r).css({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",padding:"5px"}).addClass("form-suggest-element").appendTo(i).click(function(){u.focus();u.val(n(this).text());u.trigger("change");e(u)})}))}}).unbind("keydown.validation").bind("keydown.validation",function(t){var o=t.keyCode?t.keyCode:t.which,s,i,u=n(this),c,r;if(o===13&&n.formUtils._selectedSuggestion!==null)s=u.valAttr("suggestion-nr"),i=n(".jquery-form-suggestion-"+s),i.length>0&&(c=i.find("div").eq(n.formUtils._selectedSuggestion).text(),u.val(c),u.trigger("change"),e(u),t.preventDefault());else if(s=u.valAttr("suggestion-nr"),i=n(".jquery-form-suggestion-"+s),r=i.children(),r.length>0&&n.inArray(o,[38,40])>-1){o===38?(n.formUtils._selectedSuggestion===null?n.formUtils._selectedSuggestion=r.length-1:n.formUtils._selectedSuggestion--,n.formUtils._selectedSuggestion<0&&(n.formUtils._selectedSuggestion=r.length-1)):o===40&&(n.formUtils._selectedSuggestion===null?n.formUtils._selectedSuggestion=0:n.formUtils._selectedSuggestion++,n.formUtils._selectedSuggestion>r.length-1&&(n.formUtils._selectedSuggestion=0));var a=i.innerHeight(),l=i.scrollTop(),v=i.children().eq(0).outerHeight(),h=v*n.formUtils._selectedSuggestion;return(h<l||h>l+a)&&i.scrollTop(h),r.removeClass("active-suggestion").css("background","none").eq(n.formUtils._selectedSuggestion).addClass("active-suggestion").css(f.activeSuggestionCSS),t.preventDefault(),!1}}).unbind("blur.suggest").bind("blur.suggest",function(){e(n(this))}),t},LANG:{errorTitle:"Form submission failed!",requiredField:"This is a required field",requiredFields:"You have not answered all required fields",badTime:"You have not given a correct time",badEmail:"You have not given a correct e-mail address",badTelephone:"You have not given a correct phone number",badSecurityAnswer:"You have not given a correct answer to the security question",badDate:"You have not given a correct date",lengthBadStart:"The input value must be between ",lengthBadEnd:" characters",lengthTooLongStart:"The input value is longer than ",lengthTooShortStart:"The input value is shorter than ",notConfirmed:"Input values could not be confirmed",badDomain:"Incorrect domain value",badUrl:"The input value is not a correct URL",badCustomVal:"The input value is incorrect",andSpaces:" and spaces ",badInt:"The input value was not a correct number",badSecurityNumber:"Your social security number was incorrect",badUKVatAnswer:"Incorrect UK VAT Number",badUKNin:"Incorrect UK NIN",badUKUtr:"Incorrect UK UTR Number",badStrength:"The password isn't strong enough",badNumberOfSelectedOptionsStart:"You have to choose at least ",badNumberOfSelectedOptionsEnd:" answers",badAlphaNumeric:"The input value can only contain alphanumeric characters ",badAlphaNumericExtra:" and ",wrongFileSize:"The file you are trying to upload is too large (max %s)",wrongFileType:"Only files of type %s is allowed",groupCheckedRangeStart:"Please choose between ",groupCheckedTooFewStart:"Please choose at least ",groupCheckedTooManyStart:"Please choose a maximum of ",groupCheckedEnd:" item(s)",badCreditCard:"The credit card number is not correct",badCVV:"The CVV number was not correct",wrongFileDim:"Incorrect image dimensions,",imageTooTall:"the image can not be taller than",imageTooWide:"the image can not be wider than",imageTooSmall:"the image was too small",min:"min",max:"max",imageRatioNotAccepted:"Image ratio is not be accepted",badBrazilTelephoneAnswer:"The phone number entered is invalid",badBrazilCEPAnswer:"The CEP entered is invalid",badBrazilCPFAnswer:"The CPF entered is invalid",badPlPesel:"The PESEL entered is invalid",badPlNip:"The NIP entered is invalid",badPlRegon:"The REGON entered is invalid",badreCaptcha:"Please confirm that you are not a bot",passwordComplexityStart:"Password must contain at least ",passwordComplexitySeparator:", ",passwordComplexityUppercaseInfo:" uppercase letter(s)",passwordComplexityLowercaseInfo:" lowercase letter(s)",passwordComplexitySpecialCharsInfo:" special character(s)",passwordComplexityNumericCharsInfo:" numeric character(s)",passwordComplexityEnd:"."}})}(n,window),function(n){n.formUtils.addValidator({name:"email",validatorFunction:function(t){var r=t.toLowerCase().split("@"),i=r[0],f=r[1],u;return i&&f?i.indexOf('"')===0&&(u=i.length,i=i.replace(/\"/g,""),i.length!==u-2)?!1:n.formUtils.validators.validate_domain.validatorFunction(r[1])&&i.indexOf(".")!==0&&i.substring(i.length-1,i.length)!=="."&&i.indexOf("..")===-1&&!/[^\w\+\.\-\#\-\_\~\!\$\&\'\(\)\*\+\,\;\=\:]/.test(i):!1},errorMessage:"",errorMessageKey:"badEmail"});n.formUtils.addValidator({name:"domain",validatorFunction:function(n){return n.length>0&&n.length<=253&&!/[^a-zA-Z0-9]/.test(n.slice(-2))&&!/[^a-zA-Z0-9]/.test(n.substr(0,1))&&!/[^a-zA-Z0-9\.\-]/.test(n)&&n.split("..").length===1&&n.split(".").length>1},errorMessage:"",errorMessageKey:"badDomain"});n.formUtils.addValidator({name:"required",validatorFunction:function(t,i,r,u,f){switch(i.attr("type")){case"checkbox":return i.is(":checked");case"radio":return f.find('input[name="'+i.attr("name")+'"]').filter(":checked").length>0;default:return n.trim(t)!==""}},errorMessage:"",errorMessageKey:function(n){return n.errorMessagePosition==="top"||typeof n.errorMessagePosition=="function"?"requiredFields":"requiredField"}});n.formUtils.addValidator({name:"length",validatorFunction:function(t,i,r,u){var o=i.valAttr("length"),h=i.attr("type"),s,e,f;if(o===undefined)return alert('Please add attribute "data-validation-length" to '+i[0].nodeName+" named "+i.attr("name")),!0;s=h==="file"&&i.get(0).files!==undefined?i.get(0).files.length:t.length;e=n.formUtils.numericRangeCheck(s,o);switch(e[0]){case"out":this.errorMessage=u.lengthBadStart+o+u.lengthBadEnd;f=!1;break;case"min":this.errorMessage=u.lengthTooShortStart+e[1]+u.lengthBadEnd;f=!1;break;case"max":this.errorMessage=u.lengthTooLongStart+e[1]+u.lengthBadEnd;f=!1;break;default:f=!0}return f},errorMessage:"",errorMessageKey:""});n.formUtils.addValidator({name:"url",validatorFunction:function(t){var i,r;return/^(https?|ftp):\/\/((((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])(\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])(\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/(((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|\[|\]|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#(((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)?(i=t.split("://")[1],r=i.indexOf("/"),r>-1&&(i=i.substr(0,r)),n.formUtils.validators.validate_domain.validatorFunction(i)):!1},errorMessage:"",errorMessageKey:"badUrl"});n.formUtils.addValidator({name:"number",validatorFunction:function(n,t,i){if(n!==""){var r=t.valAttr("allowing")||"",h=t.valAttr("decimal-separator")||i.decimalSeparator,u=!1,f,e,o=t.valAttr("step")||"",s=!1,c=t.attr("data-sanitize")||"",l=c.match(/(^|[\s])numberFormat([\s]|$)/i);if(l){if(!window.numeral)throw new ReferenceError("The data-sanitize value numberFormat cannot be used without the numeral library. Please see Data Validation in http://www.formvalidator.net for more information.");n.length&&(n=String(numeral().unformat(n)))}if(r.indexOf("number")===-1&&(r+=",number"),r.indexOf("negative")===-1&&n.indexOf("-")===0)return!1;if(r.indexOf("range")>-1&&(f=parseFloat(r.substring(r.indexOf("[")+1,r.indexOf(";"))),e=parseFloat(r.substring(r.indexOf(";")+1,r.indexOf("]"))),u=!0),o!==""&&(s=!0),h===","){if(n.indexOf(".")>-1)return!1;n=n.replace(",",".")}if(n.replace(/[0-9-]/g,"")===""&&(!u||n>=f&&n<=e)&&(!s||n%o==0)||r.indexOf("float")>-1&&n.match(new RegExp("^([0-9-]+)\\.([0-9]+)$"))!==null&&(!u||n>=f&&n<=e)&&(!s||n%o==0))return!0}return!1},errorMessage:"",errorMessageKey:"badInt"});n.formUtils.addValidator({name:"alphanumeric",validatorFunction:function(t,i,r,u){var s="^([a-zA-Z0-9",h="]+)$",e=i.valAttr("allowing"),o="",c=!1,f;return e?(o=s+e+h,f=e.replace(/\\/g,""),f.indexOf(" ")>-1&&(c=!0,f=f.replace(" ","")+(u.andSpaces||n.formUtils.LANG.andSpaces)),this.errorMessage=u.badAlphaNumericAndExtraAndSpaces&&u.badAlphaNumericAndExtra?c?u.badAlphaNumericAndExtraAndSpaces+f:u.badAlphaNumericAndExtra+f+u.badAlphaNumericExtra:u.badAlphaNumeric+u.badAlphaNumericExtra+f):(o=s+h,this.errorMessage=u.badAlphaNumeric),new RegExp(o).test(t)},errorMessage:"",errorMessageKey:""});n.formUtils.addValidator({name:"custom",validatorFunction:function(n,t){var i=new RegExp(t.valAttr("regexp"));return i.test(n)},errorMessage:"",errorMessageKey:"badCustomVal"});n.formUtils.addValidator({name:"date",validatorFunction:function(t,i,r){var u=i.valAttr("format")||r.dateFormat||"yyyy-mm-dd",f=i.valAttr("require-leading-zero")==="false";return n.formUtils.parseDate(t,u,f)!==!1},errorMessage:"",errorMessageKey:"badDate"});n.formUtils.addValidator({name:"checkbox_group",validatorFunction:function(t,i,r,u,f){var e=!0,a=i.attr("name"),o=n('input[type=checkbox][name^="'+a+'"]',f),v=o.filter(":checked").length,h=i.valAttr("qty"),l,s,c;h===undefined&&(l=i.get(0).nodeName,alert('Attribute "data-validation-qty" is missing from '+l+" named "+i.attr("name")));s=n.formUtils.numericRangeCheck(v,h);switch(s[0]){case"out":this.errorMessage=u.groupCheckedRangeStart+h+u.groupCheckedEnd;e=!1;break;case"min":this.errorMessage=u.groupCheckedTooFewStart+s[1]+(u.groupCheckedTooFewEnd||u.groupCheckedEnd);e=!1;break;case"max":this.errorMessage=u.groupCheckedTooManyStart+s[1]+(u.groupCheckedTooManyEnd||u.groupCheckedEnd);e=!1;break;default:e=!0}return e||(c=function(){o.unbind("click",c);o.filter("*[data-validation]").validateInputOnBlur(u,r,!1,"blur")},o.bind("click",c)),e}})}(n)});!function(n,t,i){!function(){var u,o,r,f="datepicker",c=".datepicker-here",s=!1,l='<div class="datepicker"><i class="datepicker--pointer"><\/i><nav class="datepicker--nav"><\/nav><div class="datepicker--content"><\/div><\/div>',a={classes:"",inline:!1,language:"ru",startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"@",toggleSelected:!0,keyboardNav:!0,position:"bottom left",offset:12,view:"days",minView:"days",showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:",",range:!1,todayButton:!1,clearButton:!1,showEvent:"focus",autoClose:!1,monthsField:"monthsShort",prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"><\/path><\/svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"><\/path><\/svg>',navTitles:{days:"MM, <i>yyyy<\/i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:"",onShow:"",onHide:"",onChangeMonth:"",onChangeYear:"",onChangeDecade:"",onChangeView:"",onRenderCell:""},h={ctrlRight:[17,39],ctrlUp:[17,38],ctrlLeft:[17,37],ctrlDown:[17,40],shiftRight:[16,39],shiftUp:[16,38],shiftLeft:[16,37],shiftDown:[16,40],altUp:[18,38],altRight:[18,39],altLeft:[18,37],altDown:[18,40],ctrlShiftUp:[16,17,38]},e=function(n,r){this.el=n;this.$el=t(n);this.opts=t.extend(!0,{},a,r,this.$el.data());u==i&&(u=t("body"));this.opts.startDate||(this.opts.startDate=new Date);"INPUT"==this.el.nodeName&&(this.elIsInput=!0);this.opts.altField&&(this.$altField="string"==typeof this.opts.altField?t(this.opts.altField):this.opts.altField);this.inited=!1;this.visible=!1;this.silent=!1;this.currentDate=this.opts.startDate;this.currentView=this.opts.view;this._createShortCuts();this.selectedDates=[];this.views={};this.keys=[];this.minRange="";this.maxRange="";this._prevOnSelectValue="";this.init()};r=e;r.prototype={VERSION:"2.2.3",viewIndexes:["days","months","years"],init:function(){s||this.opts.inline||!this.elIsInput||this._buildDatepickersContainer();this._buildBaseHtml();this._defineLocale(this.opts.language);this._syncWithMinMaxDates();this.elIsInput&&(this.opts.inline||(this._setPositionClasses(this.opts.position),this._bindEvents()),this.opts.keyboardNav&&!this.opts.onlyTimepicker&&this._bindKeyboardEvents(),this.$datepicker.on("mousedown",this._onMouseDownDatepicker.bind(this)),this.$datepicker.on("mouseup",this._onMouseUpDatepicker.bind(this)));this.opts.classes&&this.$datepicker.addClass(this.opts.classes);this.opts.timepicker&&(this.timepicker=new t.fn.datepicker.Timepicker(this,this.opts),this._bindTimepickerEvents());this.opts.onlyTimepicker&&this.$datepicker.addClass("-only-timepicker-");this.views[this.currentView]=new t.fn.datepicker.Body(this,this.currentView,this.opts);this.views[this.currentView].show();this.nav=new t.fn.datepicker.Navigation(this,this.opts);this.view=this.currentView;this.$el.on("clickCell.adp",this._onClickCell.bind(this));this.$datepicker.on("mouseenter",".datepicker--cell",this._onMouseEnterCell.bind(this));this.$datepicker.on("mouseleave",".datepicker--cell",this._onMouseLeaveCell.bind(this));this.inited=!0},_createShortCuts:function(){this.minDate=this.opts.minDate?this.opts.minDate:new Date(-86399999136e5);this.maxDate=this.opts.maxDate?this.opts.maxDate:new Date(86399999136e5)},_bindEvents:function(){this.$el.on(this.opts.showEvent+".adp",this._onShowEvent.bind(this));this.$el.on("mouseup.adp",this._onMouseUpEl.bind(this));this.$el.on("blur.adp",this._onBlur.bind(this));this.$el.on("keyup.adp",this._onKeyUpGeneral.bind(this));t(n).on("resize.adp",this._onResize.bind(this));t("body").on("mouseup.adp",this._onMouseUpBody.bind(this))},_bindKeyboardEvents:function(){this.$el.on("keydown.adp",this._onKeyDown.bind(this));this.$el.on("keyup.adp",this._onKeyUp.bind(this));this.$el.on("hotKey.adp",this._onHotKey.bind(this))},_bindTimepickerEvents:function(){this.$el.on("timeChange.adp",this._onTimeChange.bind(this))},isWeekend:function(n){return-1!==this.opts.weekends.indexOf(n)},_defineLocale:function(n){"string"==typeof n?(this.loc=t.fn.datepicker.language[n],this.loc||(console.warn("Can't find language \""+n+'" in Datepicker.language, will use "ru" instead'),this.loc=t.extend(!0,{},t.fn.datepicker.language.ru)),this.loc=t.extend(!0,{},t.fn.datepicker.language.ru,t.fn.datepicker.language[n])):this.loc=t.extend(!0,{},t.fn.datepicker.language.ru,n);this.opts.dateFormat&&(this.loc.dateFormat=this.opts.dateFormat);this.opts.timeFormat&&(this.loc.timeFormat=this.opts.timeFormat);""!==this.opts.firstDay&&(this.loc.firstDay=this.opts.firstDay);this.opts.timepicker&&(this.loc.dateFormat=[this.loc.dateFormat,this.loc.timeFormat].join(this.opts.dateTimeSeparator));this.opts.onlyTimepicker&&(this.loc.dateFormat=this.loc.timeFormat);var i=this._getWordBoundaryRegExp;(this.loc.timeFormat.match(i("aa"))||this.loc.timeFormat.match(i("AA")))&&(this.ampm=!0)},_buildDatepickersContainer:function(){s=!0;u.append('<div class="datepickers-container" id="datepickers-container"><\/div>');o=t("#datepickers-container")},_buildBaseHtml:function(){var n,i=t('<div class="datepicker-inline">');n="INPUT"==this.el.nodeName?this.opts.inline?i.insertAfter(this.$el):o:i.appendTo(this.$el);this.$datepicker=t(l).appendTo(n);this.$content=t(".datepicker--content",this.$datepicker);this.$nav=t(".datepicker--nav",this.$datepicker)},_triggerOnChange:function(){if(!this.selectedDates.length)return""===this._prevOnSelectValue?void 0:(this._prevOnSelectValue="",this.opts.onSelect("","",this));var t,i=this.selectedDates,n=r.getParsedDate(i[0]),u=this,f=new Date(n.year,n.month,n.date,n.hours,n.minutes);t=i.map(function(n){return u.formatDate(u.loc.dateFormat,n)}).join(this.opts.multipleDatesSeparator);(this.opts.multipleDates||this.opts.range)&&(f=i.map(function(n){var t=r.getParsedDate(n);return new Date(t.year,t.month,t.date,t.hours,t.minutes)}));this._prevOnSelectValue=t;this.opts.onSelect(t,f,this)},next:function(){var t=this.parsedDate,n=this.opts;switch(this.view){case"days":this.date=new Date(t.year,t.month+1,1);n.onChangeMonth&&n.onChangeMonth(this.parsedDate.month,this.parsedDate.year);break;case"months":this.date=new Date(t.year+1,t.month,1);n.onChangeYear&&n.onChangeYear(this.parsedDate.year);break;case"years":this.date=new Date(t.year+10,0,1);n.onChangeDecade&&n.onChangeDecade(this.curDecade)}},prev:function(){var t=this.parsedDate,n=this.opts;switch(this.view){case"days":this.date=new Date(t.year,t.month-1,1);n.onChangeMonth&&n.onChangeMonth(this.parsedDate.month,this.parsedDate.year);break;case"months":this.date=new Date(t.year-1,t.month,1);n.onChangeYear&&n.onChangeYear(this.parsedDate.year);break;case"years":this.date=new Date(t.year-10,0,1);n.onChangeDecade&&n.onChangeDecade(this.curDecade)}},formatDate:function(n,t){t=t||this.date;var o,i=n,u=this._getWordBoundaryRegExp,s=this.loc,y=r.getLeadingZeroNum,c=r.getDecade(t),e=r.getParsedDate(t),l=e.fullHours,a=e.hours,v=n.match(u("aa"))||n.match(u("AA")),h="am",f=this._replacer;switch(this.opts.timepicker&&this.timepicker&&v&&(o=this.timepicker._getValidHoursFromDate(t,v),l=y(o.hours),a=o.hours,h=o.dayPeriod),!0){case/@/.test(i):i=i.replace(/@/,t.getTime());case/aa/.test(i):i=f(i,u("aa"),h);case/AA/.test(i):i=f(i,u("AA"),h.toUpperCase());case/dd/.test(i):i=f(i,u("dd"),e.fullDate);case/d/.test(i):i=f(i,u("d"),e.date);case/DD/.test(i):i=f(i,u("DD"),s.days[e.day]);case/D/.test(i):i=f(i,u("D"),s.daysShort[e.day]);case/mm/.test(i):i=f(i,u("mm"),e.fullMonth);case/m/.test(i):i=f(i,u("m"),e.month+1);case/MM/.test(i):i=f(i,u("MM"),this.loc.months[e.month]);case/M/.test(i):i=f(i,u("M"),s.monthsShort[e.month]);case/ii/.test(i):i=f(i,u("ii"),e.fullMinutes);case/i/.test(i):i=f(i,u("i"),e.minutes);case/hh/.test(i):i=f(i,u("hh"),l);case/h/.test(i):i=f(i,u("h"),a);case/yyyy/.test(i):i=f(i,u("yyyy"),e.year);case/yyyy1/.test(i):i=f(i,u("yyyy1"),c[0]);case/yyyy2/.test(i):i=f(i,u("yyyy2"),c[1]);case/yy/.test(i):i=f(i,u("yy"),e.year.toString().slice(-2))}return i},_replacer:function(n,t,i){return n.replace(t,function(n,t,r,u){return t+i+u})},_getWordBoundaryRegExp:function(n){var t="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+t+")("+n+")($|<|"+t+")","g")},selectDate:function(n){var t=this,i=t.opts,e=t.parsedDate,o=t.selectedDates,f=o.length,u="";if(Array.isArray(n))return void n.forEach(function(n){t.selectDate(n)});if(n instanceof Date){if(this.lastSelectedDate=n,this.timepicker&&this.timepicker._setTime(n),t._trigger("selectDate",n),this.timepicker&&(n.setHours(this.timepicker.hours),n.setMinutes(this.timepicker.minutes)),"days"==t.view&&n.getMonth()!=e.month&&i.moveToOtherMonthsOnSelect&&(u=new Date(n.getFullYear(),n.getMonth(),1)),"years"==t.view&&n.getFullYear()!=e.year&&i.moveToOtherYearsOnSelect&&(u=new Date(n.getFullYear(),0,1)),u&&(t.silent=!0,t.date=u,t.silent=!1,t.nav._render()),i.multipleDates&&!i.range){if(f===i.multipleDates)return;t._isSelected(n)||t.selectedDates.push(n)}else i.range?2==f?(t.selectedDates=[n],t.minRange=n,t.maxRange=""):1==f?(t.selectedDates.push(n),t.maxRange?t.minRange=n:t.maxRange=n,r.bigger(t.maxRange,t.minRange)&&(t.maxRange=t.minRange,t.minRange=n),t.selectedDates=[t.minRange,t.maxRange]):(t.selectedDates=[n],t.minRange=n):t.selectedDates=[n];t._setInputValue();i.onSelect&&t._triggerOnChange();i.autoClose&&!this.timepickerIsActive&&(i.multipleDates||i.range?i.range&&2==t.selectedDates.length&&t.hide():t.hide());t.views[this.currentView]._render()}},removeDate:function(n){var i=this.selectedDates,t=this;if(n instanceof Date)return i.some(function(u,f){if(r.isSame(u,n))return(i.splice(f,1),t.selectedDates.length?t.lastSelectedDate=t.selectedDates[t.selectedDates.length-1]:(t.minRange="",t.maxRange="",t.lastSelectedDate=""),t.views[t.currentView]._render(),t._setInputValue(),t.opts.onSelect&&t._triggerOnChange(),!0)})},today:function(){this.silent=!0;this.view=this.opts.minView;this.silent=!1;this.date=new Date;this.opts.todayButton instanceof Date&&this.selectDate(this.opts.todayButton)},clear:function(){this.selectedDates=[];this.minRange="";this.maxRange="";this.views[this.currentView]._render();this._setInputValue();this.opts.onSelect&&this._triggerOnChange()},update:function(n,i){var u=arguments.length,r=this.lastSelectedDate;return 2==u?this.opts[n]=i:1==u&&"object"==typeof n&&(this.opts=t.extend(!0,this.opts,n)),this._createShortCuts(),this._syncWithMinMaxDates(),this._defineLocale(this.opts.language),this.nav._addButtonsIfNeed(),this.opts.onlyTimepicker||this.nav._render(),this.views[this.currentView]._render(),this.elIsInput&&!this.opts.inline&&(this._setPositionClasses(this.opts.position),this.visible&&this.setPosition(this.opts.position)),this.opts.classes&&this.$datepicker.addClass(this.opts.classes),this.opts.onlyTimepicker&&this.$datepicker.addClass("-only-timepicker-"),this.opts.timepicker&&(r&&this.timepicker._handleDate(r),this.timepicker._updateRanges(),this.timepicker._updateCurrentTime(),r&&(r.setHours(this.timepicker.hours),r.setMinutes(this.timepicker.minutes))),this._setInputValue(),this},_syncWithMinMaxDates:function(){var n=this.date.getTime();this.silent=!0;this.minTime>n&&(this.date=this.minDate);this.maxTime<n&&(this.date=this.maxDate);this.silent=!1},_isSelected:function(n,t){var i=!1;return this.selectedDates.some(function(u){if(r.isSame(u,n,t))return(i=u,!0)}),i},_setInputValue:function(){var t,n=this,r=n.opts,u=n.loc.dateFormat,f=r.altFieldDateFormat,i=n.selectedDates.map(function(t){return n.formatDate(u,t)});r.altField&&n.$altField.length&&(t=this.selectedDates.map(function(t){return n.formatDate(f,t)}),t=t.join(this.opts.multipleDatesSeparator),this.$altField.val(t));i=i.join(this.opts.multipleDatesSeparator);this.$el.val(i)},_isInRange:function(n,t){var u=n.getTime(),i=r.getParsedDate(n),f=r.getParsedDate(this.minDate),e=r.getParsedDate(this.maxDate),s=new Date(i.year,i.month,f.date).getTime(),h=new Date(i.year,i.month,e.date).getTime(),o={day:u>=this.minTime&&u<=this.maxTime,month:s>=this.minTime&&h<=this.maxTime,year:i.year>=f.year&&i.year<=e.year};return t?o[t]:o.day},_getDimensions:function(n){var t=n.offset();return{width:n.outerWidth(),height:n.outerHeight(),left:t.left,top:t.top}},_getDateFromCell:function(n){var t=this.parsedDate,r=n.data("year")||t.year,u=n.data("month")==i?t.month:n.data("month"),f=n.data("date")||1;return new Date(r,u,f)},_setPositionClasses:function(n){n=n.split(" ");var t=n[0],r=n[1],i="datepicker -"+t+"-"+r+"- -from-"+t+"-";this.visible&&(i+=" active");this.$datepicker.removeAttr("class").addClass(i)},setPosition:function(n){n=n||this.opts.position;var i,r,t=this._getDimensions(this.$el),u=this._getDimensions(this.$datepicker),e=n.split(" "),f=this.opts.offset,o=e[0],s=e[1];switch(o){case"top":i=t.top-u.height-f;break;case"right":r=t.left+t.width+f;break;case"bottom":i=t.top+t.height+f;break;case"left":r=t.left-u.width-f}switch(s){case"top":i=t.top;break;case"right":r=t.left+t.width-u.width;break;case"bottom":i=t.top+t.height-u.height;break;case"left":r=t.left;break;case"center":/left|right/.test(o)?i=t.top+t.height/2-u.height/2:r=t.left+t.width/2-u.width/2}this.$datepicker.css({left:r,top:i})},show:function(){var n=this.opts.onShow;this.setPosition(this.opts.position);this.$datepicker.addClass("active");this.visible=!0;n&&this._bindVisionEvents(n)},hide:function(){var n=this.opts.onHide;this.$datepicker.removeClass("active").css({left:"-100000px"});this.focused="";this.keys=[];this.inFocus=!1;this.visible=!1;this.$el.blur();n&&this._bindVisionEvents(n)},down:function(n){this._changeView(n,"down")},up:function(n){this._changeView(n,"up")},_bindVisionEvents:function(n){this.$datepicker.off("transitionend.dp");n(this,!1);this.$datepicker.one("transitionend.dp",n.bind(this,this,!0))},_changeView:function(n,t){n=n||this.focused||this.date;var i="up"==t?this.viewIndex+1:this.viewIndex-1;i>2&&(i=2);0>i&&(i=0);this.silent=!0;this.date=new Date(n.getFullYear(),n.getMonth(),1);this.silent=!1;this.view=this.viewIndexes[i]},_handleHotKey:function(n){var f,t,o,s=r.getParsedDate(this._getFocusedDate()),i=this.opts,h=!1,c=!1,l=!1,u=s.year,e=s.month,a=s.date;switch(n){case"ctrlRight":case"ctrlUp":e+=1;h=!0;break;case"ctrlLeft":case"ctrlDown":e-=1;h=!0;break;case"shiftRight":case"shiftUp":c=!0;u+=1;break;case"shiftLeft":case"shiftDown":c=!0;u-=1;break;case"altRight":case"altUp":l=!0;u+=10;break;case"altLeft":case"altDown":l=!0;u-=10;break;case"ctrlShiftUp":this.up()}o=r.getDaysCount(new Date(u,e));t=new Date(u,e,a);a>o&&(a=o);t.getTime()<this.minTime?t=this.minDate:t.getTime()>this.maxTime&&(t=this.maxDate);this.focused=t;f=r.getParsedDate(t);h&&i.onChangeMonth&&i.onChangeMonth(f.month,f.year);c&&i.onChangeYear&&i.onChangeYear(f.year);l&&i.onChangeDecade&&i.onChangeDecade(this.curDecade)},_registerKey:function(n){var t=this.keys.some(function(t){return t==n});t||this.keys.push(n)},_unRegisterKey:function(n){var t=this.keys.indexOf(n);this.keys.splice(t,1)},_isHotKeyPressed:function(){var n,t=!1,u=this,i=this.keys.sort();for(var r in h)n=h[r],i.length==n.length&&n.every(function(n,t){return n==i[t]})&&(u._trigger("hotKey",r),t=!0);return t},_trigger:function(n,t){this.$el.trigger(n,t)},_focusNextCell:function(n,t){var i;t=t||this.cellType;var o=r.getParsedDate(this._getFocusedDate()),u=o.year,f=o.month,e=o.date;if(!this._isHotKeyPressed()){switch(n){case 37:"day"==t?e-=1:"";"month"==t?f-=1:"";"year"==t?u-=1:"";break;case 38:"day"==t?e-=7:"";"month"==t?f-=3:"";"year"==t?u-=4:"";break;case 39:"day"==t?e+=1:"";"month"==t?f+=1:"";"year"==t?u+=1:"";break;case 40:"day"==t?e+=7:"";"month"==t?f+=3:"";"year"==t?u+=4:""}i=new Date(u,f,e);i.getTime()<this.minTime?i=this.minDate:i.getTime()>this.maxTime&&(i=this.maxDate);this.focused=i}},_getFocusedDate:function(){var n=this.focused||this.selectedDates[this.selectedDates.length-1],t=this.parsedDate;if(!n)switch(this.view){case"days":n=new Date(t.year,t.month,(new Date).getDate());break;case"months":n=new Date(t.year,t.month,1);break;case"years":n=new Date(t.year,0,1)}return n},_getCell:function(n,i){i=i||this.cellType;var f,u=r.getParsedDate(n),e='.datepicker--cell[data-year="'+u.year+'"]';switch(i){case"month":e='[data-month="'+u.month+'"]';break;case"day":e+='[data-month="'+u.month+'"][data-date="'+u.date+'"]'}return f=this.views[this.currentView].$el.find(e),f.length?f:t("")},destroy:function(){var n=this;n.$el.off(".adp").data("datepicker","");n.selectedDates=[];n.focused="";n.views={};n.keys=[];n.minRange="";n.maxRange="";n.opts.inline||!n.elIsInput?n.$datepicker.closest(".datepicker-inline").remove():n.$datepicker.remove()},_handleAlreadySelectedDates:function(n,t){this.opts.range?this.opts.toggleSelected?this.removeDate(t):2!=this.selectedDates.length&&this._trigger("clickCell",t):this.opts.toggleSelected&&this.removeDate(t);this.opts.toggleSelected||(this.lastSelectedDate=n,this.opts.timepicker&&(this.timepicker._setTime(n),this.timepicker.update()))},_onShowEvent:function(){this.visible||this.show()},_onBlur:function(){!this.inFocus&&this.visible&&this.hide()},_onMouseDownDatepicker:function(){this.inFocus=!0},_onMouseUpDatepicker:function(n){this.inFocus=!1;n.originalEvent.inFocus=!0;n.originalEvent.timepickerFocus||this.$el.focus()},_onKeyUpGeneral:function(){var n=this.$el.val();n||this.clear()},_onResize:function(){this.visible&&this.setPosition()},_onMouseUpBody:function(n){n.originalEvent.inFocus||this.visible&&!this.inFocus&&this.hide()},_onMouseUpEl:function(n){n.originalEvent.inFocus=!0;setTimeout(this._onKeyUpGeneral.bind(this),4)},_onKeyDown:function(n){var t=n.which,i;if(this._registerKey(t),t>=37&&40>=t&&(n.preventDefault(),this._focusNextCell(t)),13==t&&this.focused){if(this._getCell(this.focused).hasClass("-disabled-"))return;if(this.view!=this.opts.minView)this.down();else{if(i=this._isSelected(this.focused,this.cellType),!i)return this.timepicker&&(this.focused.setHours(this.timepicker.hours),this.focused.setMinutes(this.timepicker.minutes)),void this.selectDate(this.focused);this._handleAlreadySelectedDates(i,this.focused)}}27==t&&this.hide()},_onKeyUp:function(n){var t=n.which;this._unRegisterKey(t)},_onHotKey:function(n,t){this._handleHotKey(t)},_onMouseEnterCell:function(n){var i=t(n.target).closest(".datepicker--cell"),u=this._getDateFromCell(i);this.silent=!0;this.focused&&(this.focused="");i.addClass("-focus-");this.focused=u;this.silent=!1;this.opts.range&&1==this.selectedDates.length&&(this.minRange=this.selectedDates[0],this.maxRange="",r.less(this.minRange,this.focused)&&(this.maxRange=this.minRange,this.minRange=""),this.views[this.currentView]._update())},_onMouseLeaveCell:function(n){var i=t(n.target).closest(".datepicker--cell");i.removeClass("-focus-");this.silent=!0;this.focused="";this.silent=!1},_onTimeChange:function(n,t,i){var r=new Date,f=this.selectedDates,u=!1;f.length&&(u=!0,r=this.lastSelectedDate);r.setHours(t);r.setMinutes(i);u||this._getCell(r).hasClass("-disabled-")?(this._setInputValue(),this.opts.onSelect&&this._triggerOnChange()):this.selectDate(r)},_onClickCell:function(n,t){this.timepicker&&(t.setHours(this.timepicker.hours),t.setMinutes(this.timepicker.minutes));this.selectDate(t)},set focused(n){if(!n&&this.focused){var t=this._getCell(this.focused);t.length&&t.removeClass("-focus-")}this._focused=n;this.opts.range&&1==this.selectedDates.length&&(this.minRange=this.selectedDates[0],this.maxRange="",r.less(this.minRange,this._focused)&&(this.maxRange=this.minRange,this.minRange=""));this.silent||(this.date=n)},get focused(){return this._focused},get parsedDate(){return r.getParsedDate(this.date)},set date(n){if(n instanceof Date)return(this.currentDate=n,this.inited&&!this.silent&&(this.views[this.view]._render(),this.nav._render(),this.visible&&this.elIsInput&&this.setPosition()),n)},get date(){return this.currentDate},set view(n){return this.viewIndex=this.viewIndexes.indexOf(n),this.viewIndex<0?void 0:(this.prevView=this.currentView,this.currentView=n,this.inited&&(this.views[n]?this.views[n]._render():this.views[n]=new t.fn.datepicker.Body(this,n,this.opts),this.views[this.prevView].hide(),this.views[n].show(),this.nav._render(),this.opts.onChangeView&&this.opts.onChangeView(n),this.elIsInput&&this.visible&&this.setPosition()),n)},get view(){return this.currentView},get cellType(){return this.view.substring(0,this.view.length-1)},get minTime(){var n=r.getParsedDate(this.minDate);return new Date(n.year,n.month,n.date).getTime()},get maxTime(){var n=r.getParsedDate(this.maxDate);return new Date(n.year,n.month,n.date).getTime()},get curDecade(){return r.getDecade(this.date)}};r.getDaysCount=function(n){return new Date(n.getFullYear(),n.getMonth()+1,0).getDate()};r.getParsedDate=function(n){return{year:n.getFullYear(),month:n.getMonth(),fullMonth:n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1,date:n.getDate(),fullDate:n.getDate()<10?"0"+n.getDate():n.getDate(),day:n.getDay(),hours:n.getHours(),fullHours:n.getHours()<10?"0"+n.getHours():n.getHours(),minutes:n.getMinutes(),fullMinutes:n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes()}};r.getDecade=function(n){var t=10*Math.floor(n.getFullYear()/10);return[t,t+9]};r.template=function(n,t){return n.replace(/#\{([\w]+)\}/g,function(n,i){if(t[i]||0===t[i])return t[i]})};r.isSame=function(n,t,i){if(!n||!t)return!1;var u=r.getParsedDate(n),f=r.getParsedDate(t),e=i?i:"day",o={day:u.date==f.date&&u.month==f.month&&u.year==f.year,month:u.month==f.month&&u.year==f.year,year:u.year==f.year};return o[e]};r.less=function(n,t){return n&&t?t.getTime()<n.getTime():!1};r.bigger=function(n,t){return n&&t?t.getTime()>n.getTime():!1};r.getLeadingZeroNum=function(n){return parseInt(n)<10?"0"+n:n};r.resetTime=function(n){if("object"==typeof n)return(n=r.getParsedDate(n),new Date(n.year,n.month,n.date))};t.fn.datepicker=function(n){return this.each(function(){if(t.data(this,f)){var i=t.data(this,f);i.opts=t.extend(!0,i.opts,n);i.update()}else t.data(this,f,new e(this,n))})};t.fn.datepicker.Constructor=e;t.fn.datepicker.language={ru:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.mm.yyyy",timeFormat:"hh:ii",firstDay:1}};t(function(){t(c).datepicker()})}(),function(){var u={days:'<div class="datepicker--days datepicker--body"><div class="datepicker--days-names"><\/div><div class="datepicker--cells datepicker--cells-days"><\/div><\/div>',months:'<div class="datepicker--months datepicker--body"><div class="datepicker--cells datepicker--cells-months"><\/div><\/div>',years:'<div class="datepicker--years datepicker--body"><div class="datepicker--cells datepicker--cells-years"><\/div><\/div>'},r=t.fn.datepicker,n=r.Constructor;r.Body=function(n,i,r){this.d=n;this.type=i;this.opts=r;this.$el=t("");this.opts.onlyTimepicker||this.init()};r.Body.prototype={init:function(){this._buildBaseHtml();this._render();this._bindEvents()},_bindEvents:function(){this.$el.on("click",".datepicker--cell",t.proxy(this._onClickCell,this))},_buildBaseHtml:function(){this.$el=t(u[this.type]).appendTo(this.d.$content);this.$names=t(".datepicker--days-names",this.$el);this.$cells=t(".datepicker--cells",this.$el)},_getDayNamesHtml:function(n,t,r,u){return t=t!=i?t:n,r=r?r:"",u=u!=i?u:0,u>7?r:7==t?this._getDayNamesHtml(n,0,r,++u):(r+='<div class="datepicker--day-name'+(this.d.isWeekend(t)?" -weekend-":"")+'">'+this.d.loc.daysMin[t]+"<\/div>",this._getDayNamesHtml(n,++t,r,++u))},_getCellContents:function(t,i){var u="datepicker--cell datepicker--cell-"+i,a=new Date,r=this.d,h=n.resetTime(r.minRange),c=n.resetTime(r.maxRange),f=r.opts,e=n.getParsedDate(t),s={},o=e.date,l;switch(i){case"day":r.isWeekend(e.day)&&(u+=" -weekend-");e.month!=this.d.parsedDate.month&&(u+=" -other-month-",f.selectOtherMonths||(u+=" -disabled-"),f.showOtherMonths||(o=""));break;case"month":o=r.loc[r.opts.monthsField][e.month];break;case"year":l=r.curDecade;o=e.year;(e.year<l[0]||e.year>l[1])&&(u+=" -other-decade-",f.selectOtherYears||(u+=" -disabled-"),f.showOtherYears||(o=""))}return f.onRenderCell&&(s=f.onRenderCell(t,i)||{},o=s.html?s.html:o,u+=s.classes?" "+s.classes:""),f.range&&(n.isSame(h,t,i)&&(u+=" -range-from-"),n.isSame(c,t,i)&&(u+=" -range-to-"),1==r.selectedDates.length&&r.focused?((n.bigger(h,t)&&n.less(r.focused,t)||n.less(c,t)&&n.bigger(r.focused,t))&&(u+=" -in-range-"),n.less(c,t)&&n.isSame(r.focused,t)&&(u+=" -range-from-"),n.bigger(h,t)&&n.isSame(r.focused,t)&&(u+=" -range-to-")):2==r.selectedDates.length&&n.bigger(h,t)&&n.less(c,t)&&(u+=" -in-range-")),n.isSame(a,t,i)&&(u+=" -current-"),r.focused&&n.isSame(t,r.focused,i)&&(u+=" -focus-"),r._isSelected(t,i)&&(u+=" -selected-"),(!r._isInRange(t,i)||s.disabled)&&(u+=" -disabled-"),{html:o,classes:u}},_getDaysHtml:function(t){var f=n.getDaysCount(t),h=new Date(t.getFullYear(),t.getMonth(),1).getDay(),c=new Date(t.getFullYear(),t.getMonth(),f).getDay(),i=h-this.d.loc.firstDay,r=6-c+this.d.loc.firstDay;i=0>i?i+7:i;r=r>6?r-7:r;for(var e,o,l=-i+1,s="",u=l,a=f+r;a>=u;u++)o=t.getFullYear(),e=t.getMonth(),s+=this._getDayHtml(new Date(o,e,u));return s},_getDayHtml:function(n){var t=this._getCellContents(n,"day");return'<div class="'+t.classes+'" data-date="'+n.getDate()+'" data-month="'+n.getMonth()+'" data-year="'+n.getFullYear()+'">'+t.html+"<\/div>"},_getMonthsHtml:function(t){for(var r="",u=n.getParsedDate(t),i=0;12>i;)r+=this._getMonthHtml(new Date(u.year,i)),i++;return r},_getMonthHtml:function(n){var t=this._getCellContents(n,"month");return'<div class="'+t.classes+'" data-month="'+n.getMonth()+'">'+t.html+"<\/div>"},_getYearsHtml:function(t){var r=(n.getParsedDate(t),n.getDecade(t)),f=r[0]-1,u="",i=f;for(i;i<=r[1]+1;i++)u+=this._getYearHtml(new Date(i,0));return u},_getYearHtml:function(n){var t=this._getCellContents(n,"year");return'<div class="'+t.classes+'" data-year="'+n.getFullYear()+'">'+t.html+"<\/div>"},_renderTypes:{days:function(){var n=this._getDayNamesHtml(this.d.loc.firstDay),t=this._getDaysHtml(this.d.currentDate);this.$cells.html(t);this.$names.html(n)},months:function(){var n=this._getMonthsHtml(this.d.currentDate);this.$cells.html(n)},years:function(){var n=this._getYearsHtml(this.d.currentDate);this.$cells.html(n)}},_render:function(){this.opts.onlyTimepicker||this._renderTypes[this.type].bind(this)()},_update:function(){var i,r,u,f=t(".datepicker--cell",this.$cells),n=this;f.each(function(){r=t(this);u=n.d._getDateFromCell(t(this));i=n._getCellContents(u,n.d.cellType);r.attr("class",i.classes)})},show:function(){this.opts.onlyTimepicker||(this.$el.addClass("active"),this.acitve=!0)},hide:function(){this.$el.removeClass("active");this.active=!1},_handleClick:function(n){var u=n.data("date")||1,f=n.data("month")||0,e=n.data("year")||this.d.parsedDate.year,t=this.d,i,r;return t.view!=this.opts.minView?void t.down(new Date(e,f,u)):(i=new Date(e,f,u),r=this.d._isSelected(i,this.d.cellType),r?void t._handleAlreadySelectedDates.bind(t,r,i)():void t._trigger("clickCell",i))},_onClickCell:function(n){var i=t(n.target).closest(".datepicker--cell");i.hasClass("-disabled-")||this._handleClick.bind(this)(i)}}}(),function(){var r='<div class="datepicker--nav-action" data-action="prev">#{prevHtml}<\/div><div class="datepicker--nav-title">#{title}<\/div><div class="datepicker--nav-action" data-action="next">#{nextHtml}<\/div>',u='<div class="datepicker--buttons"><\/div>',f='<span class="datepicker--button" data-action="#{action}">#{label}<\/span>',n=t.fn.datepicker,i=n.Constructor;n.Navigation=function(n,t){this.d=n;this.opts=t;this.$buttonsContainer="";this.init()};n.Navigation.prototype={init:function(){this._buildBaseHtml();this._bindEvents()},_bindEvents:function(){this.d.$nav.on("click",".datepicker--nav-action",t.proxy(this._onClickNavButton,this));this.d.$nav.on("click",".datepicker--nav-title",t.proxy(this._onClickNavTitle,this));this.d.$datepicker.on("click",".datepicker--button",t.proxy(this._onClickNavButton,this))},_buildBaseHtml:function(){this.opts.onlyTimepicker||this._render();this._addButtonsIfNeed()},_addButtonsIfNeed:function(){this.opts.todayButton&&this._addButton("today");this.opts.clearButton&&this._addButton("clear")},_render:function(){var n=this._getTitle(this.d.currentDate),u=i.template(r,t.extend({title:n},this.opts));this.d.$nav.html(u);"years"==this.d.view&&t(".datepicker--nav-title",this.d.$nav).addClass("-disabled-");this.setNavStatus()},_getTitle:function(n){return this.d.formatDate(this.opts.navTitles[this.d.view],n)},_addButton:function(n){this.$buttonsContainer.length||this._addButtonsContainer();var r={action:n,label:this.d.loc[n]},u=i.template(f,r);t("[data-action="+n+"]",this.$buttonsContainer).length||this.$buttonsContainer.append(u)},_addButtonsContainer:function(){this.d.$datepicker.append(u);this.$buttonsContainer=t(".datepicker--buttons",this.d.$datepicker)},setNavStatus:function(){var u;if((this.opts.minDate||this.opts.maxDate)&&this.opts.disableNavWhenOutOfRange){var r=this.d.parsedDate,n=r.month,t=r.year,f=r.date;switch(this.d.view){case"days":this.d._isInRange(new Date(t,n-1,1),"month")||this._disableNav("prev");this.d._isInRange(new Date(t,n+1,1),"month")||this._disableNav("next");break;case"months":this.d._isInRange(new Date(t-1,n,f),"year")||this._disableNav("prev");this.d._isInRange(new Date(t+1,n,f),"year")||this._disableNav("next");break;case"years":u=i.getDecade(this.d.date);this.d._isInRange(new Date(u[0]-1,0,1),"year")||this._disableNav("prev");this.d._isInRange(new Date(u[1]+1,0,1),"year")||this._disableNav("next")}}},_disableNav:function(n){t('[data-action="'+n+'"]',this.d.$nav).addClass("-disabled-")},_activateNav:function(n){t('[data-action="'+n+'"]',this.d.$nav).removeClass("-disabled-")},_onClickNavButton:function(n){var i=t(n.target).closest("[data-action]"),r=i.data("action");this.d[r]()},_onClickNavTitle:function(n){if(!t(n.target).hasClass("-disabled-"))return"days"==this.d.view?this.d.view="months":void(this.d.view="years")}}}(),function(){var r='<div class="datepicker--time"><div class="datepicker--time-current">   <span class="datepicker--time-current-hours">#{hourVisible}<\/span>   <span class="datepicker--time-current-colon">:<\/span>   <span class="datepicker--time-current-minutes">#{minValue}<\/span><\/div><div class="datepicker--time-sliders">   <div class="datepicker--time-row">      <input type="range" name="hours" value="#{hourValue}" min="#{hourMin}" max="#{hourMax}" step="#{hourStep}"/>   <\/div>   <div class="datepicker--time-row">      <input type="range" name="minutes" value="#{minValue}" min="#{minMin}" max="#{minMax}" step="#{minStep}"/>   <\/div><\/div><\/div>',i=t.fn.datepicker,n=i.Constructor;i.Timepicker=function(n,t){this.d=n;this.opts=t;this.init()};i.Timepicker.prototype={init:function(){var n="input";this._setTime(this.d.date);this._buildHTML();navigator.userAgent.match(/trident/gi)&&(n="change");this.d.$el.on("selectDate",this._onSelectDate.bind(this));this.$ranges.on(n,this._onChangeRange.bind(this));this.$ranges.on("mouseup",this._onMouseUpRange.bind(this));this.$ranges.on("mousemove focus ",this._onMouseEnterRange.bind(this));this.$ranges.on("mouseout blur",this._onMouseOutRange.bind(this))},_setTime:function(t){var i=n.getParsedDate(t);this._handleDate(t);this.hours=i.hours<this.minHours?this.minHours:i.hours;this.minutes=i.minutes<this.minMinutes?this.minMinutes:i.minutes},_setMinTimeFromDate:function(n){this.minHours=n.getHours();this.minMinutes=n.getMinutes();this.d.lastSelectedDate&&this.d.lastSelectedDate.getHours()>n.getHours()&&(this.minMinutes=this.opts.minMinutes)},_setMaxTimeFromDate:function(n){this.maxHours=n.getHours();this.maxMinutes=n.getMinutes();this.d.lastSelectedDate&&this.d.lastSelectedDate.getHours()<n.getHours()&&(this.maxMinutes=this.opts.maxMinutes)},_setDefaultMinMaxTime:function(){var t=23,i=59,n=this.opts;this.minHours=n.minHours<0||n.minHours>t?0:n.minHours;this.minMinutes=n.minMinutes<0||n.minMinutes>i?0:n.minMinutes;this.maxHours=n.maxHours<0||n.maxHours>t?t:n.maxHours;this.maxMinutes=n.maxMinutes<0||n.maxMinutes>i?i:n.maxMinutes},_validateHoursMinutes:function(){this.hours<this.minHours?this.hours=this.minHours:this.hours>this.maxHours&&(this.hours=this.maxHours);this.minutes<this.minMinutes?this.minutes=this.minMinutes:this.minutes>this.maxMinutes&&(this.minutes=this.maxMinutes)},_buildHTML:function(){var i=n.getLeadingZeroNum,u={hourMin:this.minHours,hourMax:i(this.maxHours),hourStep:this.opts.hoursStep,hourValue:this.hours,hourVisible:i(this.displayHours),minMin:this.minMinutes,minMax:i(this.maxMinutes),minStep:this.opts.minutesStep,minValue:i(this.minutes)},f=n.template(r,u);this.$timepicker=t(f).appendTo(this.d.$datepicker);this.$ranges=t('[type="range"]',this.$timepicker);this.$hours=t('[name="hours"]',this.$timepicker);this.$minutes=t('[name="minutes"]',this.$timepicker);this.$hoursText=t(".datepicker--time-current-hours",this.$timepicker);this.$minutesText=t(".datepicker--time-current-minutes",this.$timepicker);this.d.ampm&&(this.$ampm=t('<span class="datepicker--time-current-ampm">').appendTo(t(".datepicker--time-current",this.$timepicker)).html(this.dayPeriod),this.$timepicker.addClass("-am-pm-"))},_updateCurrentTime:function(){var t=n.getLeadingZeroNum(this.displayHours),i=n.getLeadingZeroNum(this.minutes);this.$hoursText.html(t);this.$minutesText.html(i);this.d.ampm&&this.$ampm.html(this.dayPeriod)},_updateRanges:function(){this.$hours.attr({min:this.minHours,max:this.maxHours}).val(this.hours);this.$minutes.attr({min:this.minMinutes,max:this.maxMinutes}).val(this.minutes)},_handleDate:function(t){this._setDefaultMinMaxTime();t&&(n.isSame(t,this.d.opts.minDate)?this._setMinTimeFromDate(this.d.opts.minDate):n.isSame(t,this.d.opts.maxDate)&&this._setMaxTimeFromDate(this.d.opts.maxDate));this._validateHoursMinutes(t)},update:function(){this._updateRanges();this._updateCurrentTime()},_getValidHoursFromDate:function(t,i){var f=t,r=t,e,u;if(t instanceof Date&&(f=n.getParsedDate(t),r=f.hours),e=i||this.d.ampm,u="am",e)switch(!0){case 0==r:r=12;break;case 12==r:u="pm";break;case r>11:r-=12;u="pm"}return{hours:r,dayPeriod:u}},set hours(n){this._hours=n;var t=this._getValidHoursFromDate(n);this.displayHours=t.hours;this.dayPeriod=t.dayPeriod},get hours(){return this._hours},_onChangeRange:function(n){var i=t(n.target),r=i.attr("name");this.d.timepickerIsActive=!0;this[r]=i.val();this._updateCurrentTime();this.d._trigger("timeChange",[this.hours,this.minutes]);this._handleDate(this.d.lastSelectedDate);this.update()},_onSelectDate:function(n,t){this._handleDate(t);this.update()},_onMouseEnterRange:function(n){var i=t(n.target).attr("name");t(".datepicker--time-current-"+i,this.$timepicker).addClass("-focus-")},_onMouseOutRange:function(n){var i=t(n.target).attr("name");this.d.inFocus||t(".datepicker--time-current-"+i,this.$timepicker).removeClass("-focus-")},_onMouseUpRange:function(){this.d.timepickerIsActive=!1}}}()}(window,jQuery),function(n){"use strict";function i(t,i){this.isInit=!0;this.itemsArray=[];this.$element=n(t);this.$element.hide();this.isSelect=t.tagName==="SELECT";this.multiple=this.isSelect&&t.hasAttribute("multiple");this.objectItems=i&&i.itemValue;this.placeholderText=t.hasAttribute("placeholder")?this.$element.attr("placeholder"):"";this.inputSize=Math.max(1,this.placeholderText.length);this.$container=n('<div class="bootstrap-tagsinput"><\/div>');this.$input=n('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container);this.$element.before(this.$container);this.build(i);this.isInit=!1}function u(n,t){if(typeof n[t]!="function"){var i=n[t];n[t]=function(n){return n[i]}}}function f(n,t){if(typeof n[t]!="function"){var i=n[t];n[t]=function(){return i}}}function t(n){return n?e.text(n).html():""}function o(n){var t=0,i;return document.selection?(n.focus(),i=document.selection.createRange(),i.moveStart("character",-n.value.length),t=i.text.length):(n.selectionStart||n.selectionStart=="0")&&(t=n.selectionStart),t}function s(t,i){var r=!1;return n.each(i,function(n,i){if(typeof i=="number"&&t.which===i)return r=!0,!1;if(t.which===i.which){var u=!i.hasOwnProperty("altKey")||t.altKey===i.altKey,f=!i.hasOwnProperty("shiftKey")||t.shiftKey===i.shiftKey,e=!i.hasOwnProperty("ctrlKey")||t.ctrlKey===i.ctrlKey;if(u&&f&&e)return r=!0,!1}}),r}var r={tagClass:function(){return"label label-info"},focusClass:"focus",itemValue:function(n){return n?n.toString():n},itemText:function(n){return this.itemValue(n)},itemTitle:function(){return null},freeInput:!0,addOnBlur:!0,maxTags:undefined,maxChars:undefined,confirmKeys:[13,44],delimiter:",",delimiterRegex:null,cancelConfirmKeysOnEmpty:!1,onTagExists:function(n,t){t.hide().fadeIn()},trimValue:!1,allowDuplicates:!1,triggerChange:!0},e;i.prototype={constructor:i,add:function(i,r,u){var f=this,a,e,o,w,l,h,b,c;if((!f.options.maxTags||!(f.itemsArray.length>=f.options.maxTags))&&(i===!1||i)){if(typeof i=="string"&&f.options.trimValue&&(i=n.trim(i)),typeof i=="object"&&!f.objectItems)throw"Can't add objects when itemValue option is not set";if(!i.toString().match(/^\s*$/)){if(f.isSelect&&!f.multiple&&f.itemsArray.length>0&&(console.log("If SELECT but not multiple, remove current tag"),f.remove(f.itemsArray[0])),typeof i=="string"&&this.$element[0].tagName==="INPUT"&&(a=f.options.delimiterRegex?f.options.delimiterRegex:f.options.delimiter,e=i.split(a),e.length>1)){for(o=0;o<e.length;o++)this.add(e[o],!0);r||f.pushVal(f.options.triggerChange);return}var s=f.options.itemValue(i),v=f.options.itemText(i),k=f.options.tagClass(i),y=f.options.itemTitle(i),p=n.grep(f.itemsArray,function(n){return f.options.itemValue(n)===s})[0];if(p&&!f.options.allowDuplicates){if(f.options.onTagExists){w=n(".tag",f.$container).filter(function(){return n(this).data("item")===p});f.options.onTagExists(i,w)}return}f.items().toString().length+i.length+1>f.options.maxInputLength||(l=n.Event("beforeItemAdd",{item:i,cancel:!1,options:u}),f.$element.trigger(l),l.cancel)||(f.itemsArray.push(i),h=n('<span class="tag '+t(k)+(y!==null?'" title="'+y:"")+'">'+t(v)+'<span data-role="remove"><\/span><\/span>'),h.data("item",i),f.findInputWrapper().before(h),h.after(" "),b=n('option[value="'+encodeURIComponent(s)+'"]',f.$element).length||n('option[value="'+t(s)+'"]',f.$element).length,f.isSelect&&!b&&(c=n("<option selected>"+t(v)+"<\/option>"),c.data("item",i),c.attr("value",s),f.$element.append(c)),r||f.pushVal(f.options.triggerChange),(f.options.maxTags===f.itemsArray.length||f.items().toString().length===f.options.maxInputLength)&&f.$container.addClass("bootstrap-tagsinput-max"),n(".typeahead, .twitter-typeahead",f.$container).length&&f.$input.typeahead("val",""),this.isInit?f.$element.trigger(n.Event("itemAddedOnInit",{item:i,options:u})):f.$element.trigger(n.Event("itemAdded",{item:i,options:u})))}}},remove:function(t,i,r){var u=this,f;if(u.objectItems&&(t=typeof t=="object"?n.grep(u.itemsArray,function(n){return u.options.itemValue(n)==u.options.itemValue(t)}):n.grep(u.itemsArray,function(n){return u.options.itemValue(n)==t}),t=t[t.length-1]),t){if(f=n.Event("beforeItemRemove",{item:t,cancel:!1,options:r}),u.$element.trigger(f),f.cancel)return;n(".tag",u.$container).filter(function(){return n(this).data("item")===t}).remove();n("option",u.$element).filter(function(){return n(this).data("item")===t}).remove();n.inArray(t,u.itemsArray)!==-1&&u.itemsArray.splice(n.inArray(t,u.itemsArray),1)}i||u.pushVal(u.options.triggerChange);u.options.maxTags>u.itemsArray.length&&u.$container.removeClass("bootstrap-tagsinput-max");u.$element.trigger(n.Event("itemRemoved",{item:t,options:r}))},removeAll:function(){var t=this;for(n(".tag",t.$container).remove(),n("option",t.$element).remove();t.itemsArray.length>0;)t.itemsArray.pop();t.pushVal(t.options.triggerChange)},refresh:function(){var i=this;n(".tag",i.$container).each(function(){var r=n(this),u=r.data("item"),e=i.options.itemValue(u),o=i.options.itemText(u),s=i.options.tagClass(u),f;r.attr("class",null);r.addClass("tag "+t(s));r.contents().filter(function(){return this.nodeType==3})[0].nodeValue=t(o);i.isSelect&&(f=n("option",i.$element).filter(function(){return n(this).data("item")===u}),f.attr("value",e))})},items:function(){return this.itemsArray},pushVal:function(){var t=this,i=n.map(t.items(),function(n){if(typeof t.options.itemValue(n)!="undefined")return t.options.itemValue(n).toString()});t.$element.val(i,!0);t.options.triggerChange&&t.$element.trigger("change")},build:function(t){var i=this,h;if(i.options=n.extend({},r,t),i.objectItems,u(i.options,"itemValue"),u(i.options,"itemText"),f(i.options,"tagClass"),i.options.typeahead&&(h=i.options.typeahead||{},f(h,"source"),i.$input.typeahead(n.extend({},h,{source:function(t,r){function f(n){for(var u,f=[],t=0;t<n.length;t++)u=i.options.itemText(n[t]),e[u]=n[t],f.push(u);r(f)}this.map={};var e=this.map,u=h.source(t);n.isFunction(u.success)?u.success(f):n.isFunction(u.then)?u.then(f):n.when(u).then(f)},updater:function(n){return i.add(this.map[n]),this.map[n]},matcher:function(n){return n.toLowerCase().indexOf(this.query.trim().toLowerCase())!==-1},sorter:function(n){return n.sort()},highlighter:function(n){var t=new RegExp("("+this.query+")","gi");return n.replace(t,"<strong>$1<\/strong>")}}))),i.options.typeaheadjs){var l=null,e={},c=i.options.typeaheadjs;n.isArray(c)?(l=c[0],e=c[1]):e=c;i.$input.typeahead(l,e).on("typeahead:selected",n.proxy(function(n,t){e.valueKey?i.add(t[e.valueKey]):i.add(t);i.$input.typeahead("val","")},i))}i.$container.on("click",n.proxy(function(){i.$element.attr("disabled")||i.$input.removeAttr("disabled");i.$input.focus()},i));if(i.options.addOnBlur&&i.options.freeInput)i.$input.on("focusout",n.proxy(function(){n(".typeahead, .twitter-typeahead",i.$container).length===0&&(i.add(i.$input.val()),i.$input.val(""))},i));i.$container.on({focusin:function(){i.$container.addClass(i.options.focusClass)},focusout:function(){i.$container.removeClass(i.options.focusClass)}});i.$container.on("keydown","input",n.proxy(function(t){var r=n(t.target),u=i.findInputWrapper(),e,f,s,h,c;if(i.$element.attr("disabled")){i.$input.attr("disabled","disabled");return}switch(t.which){case 8:o(r[0])===0&&(e=u.prev(),e.length&&(f=e.data("item"),(typeof f=="string"&&f==r.val()||typeof f=="object"&&f.name==r.val())&&i.remove(e.data("item"))));break;case 46:o(r[0])===0&&(s=u.next(),s.length&&(console.log("case=46, $input.val()"),console.log(r.val()),console.log("next.data('item')"),console.log(s.data("item")),i.remove(s.data("item"))));break;case 37:h=u.prev();r.val().length===0&&h[0]&&(h.before(u),r.focus());break;case 39:c=u.next();r.val().length===0&&c[0]&&(c.after(u),r.focus())}var l=r.val().length,a=Math.ceil(l/5),v=l+a+1;r.attr("size",Math.max(this.inputSize,r.val().length))},i));i.$container.on("keypress","input",n.proxy(function(t){var r=n(t.target),e,o,u,f;if(i.$element.attr("disabled")){i.$input.attr("disabled","disabled");return}if(e=r.val(),o=i.options.maxChars&&e.length>=i.options.maxChars,i.options.freeInput&&(s(t,i.options.confirmKeys)||o)){if(e.length!==0){if(u=i.$input.val(),i.objectItems){if(f=n.Event("beforeFreeInputItemAdd",{item:u,cancel:!0}),i.$element.trigger(f),f.cancel)return;u=f.item}i.add(u);i.$input.val("")}i.options.cancelConfirmKeysOnEmpty===!1&&t.preventDefault()}var h=r.val().length,c=Math.ceil(h/5),l=h+c+1;r.attr("size",Math.max(this.inputSize,r.val().length))},i));i.$container.on("click","[data-role=remove]",n.proxy(function(t){i.$element.attr("disabled")||(console.log("click data-remove"),i.remove(n(t.target).closest(".tag").data("item")))},i));i.options.itemValue===r.itemValue&&(i.$element[0].tagName==="INPUT"?i.add(i.$element.val()):n("option",i.$element).each(function(){i.add(n(this).attr("value"),!0)}))},destroy:function(){var n=this;n.$container.off("keypress","input");n.$container.off("click","[role=remove]");n.$container.remove();n.$element.removeData("tagsinput");n.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var t=this.$input[0],i=this.$container[0];t&&t.parentNode!==i;)t=t.parentNode;return n(t)}};n.fn.tagsinput=function(t,r,u){var f=[];return this.each(function(){var e=n(this).data("tagsinput"),o;e?t||r?e[t]!==undefined&&(o=e[t].length===3&&u!==undefined?e[t](r,null,u):e[t](r),o!==undefined&&f.push(o)):f.push(e):(e=new i(this,t),n(this).data("tagsinput",e),f.push(e),this.tagName==="SELECT"&&n("option",n(this)).attr("selected","selected"),n(this).val(n(this).val()))}),typeof t=="string"?f.length>1?f:f[0]:f};n.fn.tagsinput.Constructor=i;e=n("<div />");n(function(){n("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery);
/*!
 * typeahead.js 0.11.1
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
 */
(function(n,t){typeof define=="function"&&define.amd?define("bloodhound",["jquery"],function(i){return n.Bloodhound=t(i)}):typeof exports=="object"?module.exports=t(require("jquery")):n.Bloodhound=t(jQuery)})(this,function(n){var t=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(n){return!n||/^\s*$/.test(n)},escapeRegExChars:function(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(n){return typeof n=="string"},isNumber:function(n){return typeof n=="number"},isArray:n.isArray,isFunction:n.isFunction,isObject:n.isPlainObject,isUndefined:function(n){return typeof n=="undefined"},isElement:function(n){return!!(n&&n.nodeType===1)},isJQuery:function(t){return t instanceof n},toStr:function(n){return t.isUndefined(n)||n===null?"":n+""},bind:n.proxy,each:function(t,i){function r(n,t){return i(t,n)}n.each(t,r)},map:n.map,filter:n.grep,every:function(t,i){var r=!0;return t?(n.each(t,function(n,u){if(!(r=i.call(null,u,n,t)))return!1}),!!r):r},some:function(t,i){var r=!1;return t?(n.each(t,function(n,u){if(r=i.call(null,u,n,t))return!1}),!!r):r},mixin:n.extend,identity:function(n){return n},clone:function(t){return n.extend(!0,{},t)},getIdGenerator:function(){var n=0;return function(){return n++}},templatify:function(t){function i(){return String(t)}return n.isFunction(t)?t:i},defer:function(n){setTimeout(n,0)},debounce:function(n,t,i){var r,u;return function(){var f=this,e=arguments,o,s;return o=function(){r=null;i||(u=n.apply(f,e))},s=i&&!r,clearTimeout(r),r=setTimeout(o,t),s&&(u=n.apply(f,e)),u}},throttle:function(n,t){var u,f,i,e,r,o;return r=0,o=function(){r=new Date;i=null;e=n.apply(u,f)},function(){var s=new Date,h=t-(s-r);return u=this,f=arguments,h<=0?(clearTimeout(i),i=null,r=s,e=n.apply(u,f)):i||(i=setTimeout(o,h)),e}},stringify:function(n){return t.isString(n)?n:JSON.stringify(n)},noop:function(){}}}(),u="0.11.1",f=function(){"use strict";function n(n){return n=t.toStr(n),n?n.split(/\s+/):[]}function i(n){return n=t.toStr(n),n?n.split(/\W+/):[]}function r(n){return function(i){return i=t.isArray(i)?i:[].slice.call(arguments,0),function(r){var u=[];return t.each(i,function(i){u=u.concat(n(t.toStr(r[i])))}),u}}}return{nonword:i,whitespace:n,obj:{nonword:r(i),whitespace:r(n)}}}(),i=function(){"use strict";function i(i){this.maxSize=t.isNumber(i)?i:100;this.reset();this.maxSize<=0&&(this.set=this.get=n.noop)}function r(){this.head=this.tail=null}function u(n,t){this.key=n;this.val=t;this.prev=this.next=null}return t.mixin(i.prototype,{set:function(n,t){var r=this.list.tail,i;this.size>=this.maxSize&&(this.list.remove(r),delete this.hash[r.key],this.size--);(i=this.hash[n])?(i.val=t,this.list.moveToFront(i)):(i=new u(n,t),this.list.add(i),this.hash[n]=i,this.size++)},get:function(n){var t=this.hash[n];if(t)return this.list.moveToFront(t),t.val},reset:function(){this.size=0;this.hash={};this.list=new r}}),t.mixin(r.prototype,{add:function(n){this.head&&(n.next=this.head,this.head.prev=n);this.head=n;this.tail=this.tail||n},remove:function(n){n.prev?n.prev.next=n.next:this.head=n.next;n.next?n.next.prev=n.prev:this.tail=n.prev},moveToFront:function(n){this.remove(n);this.add(n)}}),i}(),e=function(){"use strict";function r(n,r){this.prefix=["__",n,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+t.escapeRegExChars(this.prefix));this.ls=r||i;this.ls||this._noop()}function u(){return(new Date).getTime()}function f(n){return JSON.stringify(t.isUndefined(n)?null:n)}function e(t){return n.parseJSON(t)}function o(n){for(var r,u=[],f=i.length,t=0;t<f;t++)(r=i.key(t)).match(n)&&u.push(r.replace(n,""));return u}var i;try{i=window.localStorage;i.setItem("~~~","!");i.removeItem("~~~")}catch(s){i=null}return t.mixin(r.prototype,{_prefix:function(n){return this.prefix+n},_ttlKey:function(n){return this._prefix(n)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=t.noop},_safeSet:function(n,t){try{this.ls.setItem(n,t)}catch(i){i.name==="QuotaExceededError"&&(this.clear(),this._noop())}},get:function(n){return this.isExpired(n)&&this.remove(n),e(this.ls.getItem(this._prefix(n)))},set:function(n,i,r){return t.isNumber(r)?this._safeSet(this._ttlKey(n),f(u()+r)):this.ls.removeItem(this._ttlKey(n)),this._safeSet(this._prefix(n),f(i))},remove:function(n){return this.ls.removeItem(this._ttlKey(n)),this.ls.removeItem(this._prefix(n)),this},clear:function(){for(var t=o(this.keyMatcher),n=t.length;n--;)this.remove(t[n]);return this},isExpired:function(n){var i=e(this.ls.getItem(this._ttlKey(n)));return t.isNumber(i)&&u()>i?!0:!1}}),r}(),r=function(){"use strict";function r(n){n=n||{};this.cancelled=!1;this.lastReq=null;this._send=n.transport;this._get=n.limiter?n.limiter(this._get):this._get;this._cache=n.cache===!1?new i(0):o}var u=0,f={},e=6,o=new i(10);return r.setMaxPendingRequests=function(n){e=n},r.resetCache=function(){o.reset()},t.mixin(r.prototype,{_fingerprint:function(t){return t=t||{},t.url+t.type+n.param(t.data||{})},_get:function(n,t){function s(n){t(null,n);i._cache.set(r,n)}function h(){t(!0)}function c(){u--;delete f[r];i.onDeckRequestArgs&&(i._get.apply(i,i.onDeckRequestArgs),i.onDeckRequestArgs=null)}var i=this,r,o;(r=this._fingerprint(n),this.cancelled||r!==this.lastReq)||((o=f[r])?o.done(s).fail(h):u<e?(u++,f[r]=this._send(n).done(s).fail(h).always(c)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(i,r){var f,u;r=r||n.noop;i=t.isString(i)?{url:i}:i||{};u=this._fingerprint(i);this.cancelled=!1;this.lastReq=u;(f=this._cache.get(u))?r(null,f):this._get(i,r)},cancel:function(){this.cancelled=!0}}),r}(),o=window.SearchIndex=function(){"use strict";function u(i){i=i||{};i.datumTokenizer&&i.queryTokenizer||n.error("datumTokenizer and queryTokenizer are both required");this.identify=i.identify||t.stringify;this.datumTokenizer=i.datumTokenizer;this.queryTokenizer=i.queryTokenizer;this.reset()}function f(n){return n=t.filter(n,function(n){return!!n}),t.map(n,function(n){return n.toLowerCase()})}function e(){var n={};return n[r]=[],n[i]={},n}function o(n){for(var i={},r=[],t=0,u=n.length;t<u;t++)i[n[t]]||(i[n[t]]=!0,r.push(n[t]));return r}function s(n,t){var i=0,r=0,u=[],f,e;for(n=n.sort(),t=t.sort(),f=n.length,e=t.length;i<f&&r<e;)n[i]<t[r]?i++:n[i]>t[r]?r++:(u.push(n[i]),i++,r++);return u}var i="c",r="i";return t.mixin(u.prototype,{bootstrap:function(n){this.datums=n.datums;this.trie=n.trie},add:function(n){var u=this;n=t.isArray(n)?n:[n];t.each(n,function(n){var o,s;u.datums[o=u.identify(n)]=n;s=f(u.datumTokenizer(n));t.each(s,function(n){for(var f,t=u.trie,s=n.split("");f=s.shift();)t=t[i][f]||(t[i][f]=e()),t[r].push(o)})})},get:function(n){var i=this;return t.map(n,function(n){return i.datums[n]})},search:function(n){var e=this,h,u;return h=f(this.queryTokenizer(n)),t.each(h,function(n){var t,f,h,o;if(u&&u.length===0)return!1;for(t=e.trie,f=n.split("");t&&(h=f.shift());)t=t[i][h];if(t&&f.length===0)o=t[r].slice(0),u=u?s(u,o):o;else return u=[],!1}),u?t.map(o(u),function(n){return e.datums[n]}):[]},all:function(){var n=[];for(var t in this.datums)n.push(this.datums[t]);return n},reset:function(){this.datums={};this.trie=e()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),u}(),s=function(){"use strict";function i(n){this.url=n.url;this.ttl=n.ttl;this.cache=n.cache;this.prepare=n.prepare;this.transform=n.transform;this.transport=n.transport;this.thumbprint=n.thumbprint;this.storage=new e(n.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},t.mixin(i.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(n.data,t,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t={},i;return this.cache?(t.data=this.storage.get(n.data),t.protocol=this.storage.get(n.protocol),t.thumbprint=this.storage.get(n.thumbprint),i=t.thumbprint!==this.thumbprint||t.protocol!==location.protocol,t.data&&!i?t.data:null):null},fromNetwork:function(n){function r(){n(!0)}function u(t){n(null,i.transform(t))}var i=this,t;n&&(t=this.prepare(this._settings()),this.transport(t).fail(r).done(u))},clear:function(){return this.storage.clear(),this}}),i}(),h=function(){"use strict";function n(n){this.url=n.url;this.prepare=n.prepare;this.transform=n.transform;this.transport=new r({cache:n.cache,limiter:n.limiter,transport:n.transport})}return t.mixin(n.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(n,t){function u(n,i){n?t([]):t(r.transform(i))}var r=this,i;if(t)return n=n||"",i=this.prepare(n,this._settings()),this.transport.get(i,u)},cancelLastRequest:function(){this.transport.cancel()}}),n}(),c=function(){"use strict";function r(r){var f;return r?(f={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:t.identity,transform:t.identity,transport:null},r=t.isString(r)?{url:r}:r,r=t.mixin(f,r),r.url||n.error("prefetch requires url to be set"),r.transform=r.filter||r.transform,r.cacheKey=r.cacheKey||r.url,r.thumbprint=u+r.thumbprint,r.transport=r.transport?i(r.transport):n.ajax,r):null}function f(r){var u;if(r)return u={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:t.identity,transport:null},r=t.isString(r)?{url:r}:r,r=t.mixin(u,r),r.url||n.error("remote requires url to be set"),r.transform=r.filter||r.transform,r.prepare=e(r),r.limiter=o(r),r.transport=r.transport?i(r.transport):n.ajax,delete r.replace,delete r.wildcard,delete r.rateLimitBy,delete r.rateLimitWait,r}function e(n){function u(n,t){return t.url=i(t.url,n),t}function f(n,t){return t.url=t.url.replace(r,encodeURIComponent(n)),t}function e(n,t){return t}var t,i,r;return(t=n.prepare,i=n.replace,r=n.wildcard,t)?t:i?u:n.wildcard?f:e}function o(n){function f(n){return function(i){return t.debounce(i,n)}}function e(n){return function(i){return t.throttle(i,n)}}var i,u,r;return i=n.limiter,u=n.rateLimitBy,r=n.rateLimitWait,i||(i=/^throttle$/i.test(u)?e(r):f(r)),i}function i(i){return function(r){function f(n){t.defer(function(){u.resolve(n)})}function e(n){t.defer(function(){u.reject(n)})}var u=n.Deferred();return i(r,f,e),u}}return function(i){var e,u;return e={initialize:!0,identify:t.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},i=t.mixin(e,i||{}),i.datumTokenizer||n.error("datumTokenizer is required"),i.queryTokenizer||n.error("queryTokenizer is required"),u=i.sorter,i.sorter=u?function(n){return n.sort(u)}:t.identity,i.local=t.isFunction(i.local)?i.local():i.local,i.prefetch=r(i.prefetch),i.remote=f(i.remote),i}}();return function(){"use strict";function i(n){n=c(n);this.sorter=n.sorter;this.identify=n.identify;this.sufficient=n.sufficient;this.local=n.local;this.remote=n.remote?new h(n.remote):null;this.prefetch=n.prefetch?new s(n.prefetch):null;this.index=new o({identify:this.identify,datumTokenizer:n.datumTokenizer,queryTokenizer:n.queryTokenizer});n.initialize!==!1&&this.initialize()}var u;return u=window&&window.Bloodhound,i.noConflict=function(){return window&&(window.Bloodhound=u),i},i.tokenizers=f,t.mixin(i.prototype,{__ttAdapter:function(){function t(t,i,r){return n.search(t,i,r)}function i(t,i){return n.search(t,i)}var n=this;return this.remote?t:i},_loadPrefetch:function(){function u(n,r){if(n)return t.reject();i.add(r);i.prefetch.store(i.index.serialize());t.resolve()}var i=this,t,r;return t=n.Deferred(),this.prefetch?(r=this.prefetch.fromCache())?(this.index.bootstrap(r),t.resolve()):this.prefetch.fromNetwork(u):t.resolve(),t.promise()},_initialize:function(){function t(){n.add(n.local)}var n=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(n){return!this.initPromise||n?this._initialize():this.initPromise},add:function(n){return this.index.add(n),this},get:function(n){return n=t.isArray(n)?n:[].slice.call(arguments),this.index.get(n)},search:function(n,i,r){function e(n){var i=[];t.each(n,function(n){t.some(u,function(t){return f.identify(n)===f.identify(t)})||i.push(n)});r&&r(i)}var f=this,u;return u=this.sorter(this.index.search(n)),i(this.remote?u.slice():u),this.remote&&u.length<this.sufficient?this.remote.get(n,e):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return r.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),i}()}),function(n,t){typeof define=="function"&&define.amd?define("typeahead.js",["jquery"],function(n){return t(n)}):typeof exports=="object"?module.exports=t(require("jquery")):t(jQuery)}(this,function(n){var t=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(n){return!n||/^\s*$/.test(n)},escapeRegExChars:function(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(n){return typeof n=="string"},isNumber:function(n){return typeof n=="number"},isArray:n.isArray,isFunction:n.isFunction,isObject:n.isPlainObject,isUndefined:function(n){return typeof n=="undefined"},isElement:function(n){return!!(n&&n.nodeType===1)},isJQuery:function(t){return t instanceof n},toStr:function(n){return t.isUndefined(n)||n===null?"":n+""},bind:n.proxy,each:function(t,i){function r(n,t){return i(t,n)}n.each(t,r)},map:n.map,filter:n.grep,every:function(t,i){var r=!0;return t?(n.each(t,function(n,u){if(!(r=i.call(null,u,n,t)))return!1}),!!r):r},some:function(t,i){var r=!1;return t?(n.each(t,function(n,u){if(r=i.call(null,u,n,t))return!1}),!!r):r},mixin:n.extend,identity:function(n){return n},clone:function(t){return n.extend(!0,{},t)},getIdGenerator:function(){var n=0;return function(){return n++}},templatify:function(t){function i(){return String(t)}return n.isFunction(t)?t:i},defer:function(n){setTimeout(n,0)},debounce:function(n,t,i){var r,u;return function(){var f=this,e=arguments,o,s;return o=function(){r=null;i||(u=n.apply(f,e))},s=i&&!r,clearTimeout(r),r=setTimeout(o,t),s&&(u=n.apply(f,e)),u}},throttle:function(n,t){var u,f,i,e,r,o;return r=0,o=function(){r=new Date;i=null;e=n.apply(u,f)},function(){var s=new Date,h=t-(s-r);return u=this,f=arguments,h<=0?(clearTimeout(i),i=null,r=s,e=n.apply(u,f)):i||(i=setTimeout(o,h)),e}},stringify:function(n){return t.isString(n)?n:JSON.stringify(n)},noop:function(){}}}(),e=function(){"use strict";function i(i){var e,o;return o=t.mixin({},n,i),e={css:f(),classes:o,html:r(o),selectors:u(o)},{css:e.css,html:e.html,classes:e.classes,selectors:e.selectors,mixin:function(n){t.mixin(n,e)}}}function r(n){return{wrapper:'<span class="'+n.wrapper+'"><\/span>',menu:'<div class="'+n.menu+'"><\/div>'}}function u(n){var i={};return t.each(n,function(n,t){i[t]="."+n}),i}function f(){var n={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return t.isMsie()&&t.mixin(n.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),n}var n={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return i}(),o=function(){"use strict";function u(t){t&&t.el||n.error("EventBus initialized without el");this.$el=n(t.el)}var i,r;return i="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},t.mixin(u.prototype,{_trigger:function(t,r){var u;return u=n.Event(i+t),(r=r||[]).unshift(u),this.$el.trigger.apply(this.$el,r),u},before:function(n){var t,i;return t=[].slice.call(arguments,1),i=this._trigger("before"+n,t),i.isDefaultPrevented()},trigger:function(n){var t;this._trigger(n,[].slice.call(arguments,1));(t=r[n])&&this._trigger(t,[].slice.call(arguments,1))}}),u}(),r=function(){"use strict";function t(t,i,r,u){var f;if(!r)return this;for(i=i.split(n),r=u?h(r,u):r,this._callbacks=this._callbacks||{};f=i.shift();)this._callbacks[f]=this._callbacks[f]||{sync:[],async:[]},this._callbacks[f][t].push(r);return this}function u(n,i,r){return t.call(this,"async",n,i,r)}function f(n,i,r){return t.call(this,"sync",n,i,r)}function e(t){var i;if(!this._callbacks)return this;for(t=t.split(n);i=t.shift();)delete this._callbacks[i];return this}function o(t){var u,f,e,o,s;if(!this._callbacks)return this;for(t=t.split(n),e=[].slice.call(arguments,1);(u=t.shift())&&(f=this._callbacks[u]);)o=i(f.sync,this,[u].concat(e)),s=i(f.async,this,[u].concat(e)),o()&&r(s);return this}function i(n,t,i){function r(){for(var r,u=0,f=n.length;!r&&u<f;u+=1)r=n[u].apply(t,i)===!1;return!r}return r}function s(){return window.setImmediate?function(n){setImmediate(function(){n()})}:function(n){setTimeout(function(){n()},0)}}function h(n,t){return n.bind?n.bind(t):function(){n.apply(t,[].slice.call(arguments,0))}}var n=/\s+/,r=s();return{onSync:f,onAsync:u,off:e,trigger:o}}(),s=function(n){"use strict";function r(n,i,r){for(var u=[],f,e=0,o=n.length;e<o;e++)u.push(t.escapeRegExChars(n[e]));return f=r?"\\b("+u.join("|")+")\\b":"("+u.join("|")+")",i?new RegExp(f):new RegExp(f,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(u){function o(t){var i,r,e;return(i=f.exec(t.data))&&(e=n.createElement(u.tagName),u.className&&(e.className=u.className),r=t.splitText(i.index),r.splitText(i[0].length),e.appendChild(r.cloneNode(!0)),t.parentNode.replaceChild(e,r)),!!i}function e(n,t){for(var i,r=0;r<n.childNodes.length;r++)i=n.childNodes[r],i.nodeType===3?r+=t(i)?1:0:e(i,t)}var f;(u=t.mixin({},i,u),u.node&&u.pattern)&&(u.pattern=t.isArray(u.pattern)?u.pattern:[u.pattern],f=r(u.pattern,u.caseSensitive,u.wordsOnly),e(u.node,o))}}(window.document),u=function(){"use strict";function i(i,r){i=i||{};i.input||n.error("input is missing");r.mixin(this);this.$hint=n(i.hint);this.$input=n(i.input);this.query=this.$input.val();this.queryWhenFocused=this.hasFocus()?this.query:null;this.$overflowHelper=e(this.$input);this._checkLanguageDirection();this.$hint.length===0&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop)}function e(t){return n('<pre aria-hidden="true"><\/pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function o(n,t){return i.normalizeQuery(n)===i.normalizeQuery(t)}function f(n){return n.altKey||n.ctrlKey||n.metaKey||n.shiftKey}var u;return u={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(n){return t.toStr(n).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(i.prototype,r,{_onBlur:function(){this.resetInputValue();this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query;this.trigger("focused")},_onKeydown:function(n){var t=u[n.which||n.keyCode];this._managePreventDefault(t,n);t&&this._shouldTrigger(t,n)&&this.trigger(t+"Keyed",n)},_onInput:function(){this._setQuery(this.getInputValue());this.clearHintIfInvalid();this._checkLanguageDirection()},_managePreventDefault:function(n,t){var i;switch(n){case"up":case"down":i=!f(t);break;default:i=!1}i&&t.preventDefault()},_shouldTrigger:function(n,t){var i;switch(n){case"tab":i=!f(t);break;default:i=!0}return i},_checkLanguageDirection:function(){var n=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==n&&(this.dir=n,this.$hint.attr("dir",n),this.trigger("langDirChanged",n))},_setQuery:function(n,t){var i,r;i=o(n,this.query);r=i?this.query.length!==n.length:!1;this.query=n;t||i?!t&&r&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var n=this,i,r,f,e;i=t.bind(this._onBlur,this);r=t.bind(this._onFocus,this);f=t.bind(this._onKeydown,this);e=t.bind(this._onInput,this);this.$input.on("blur.tt",i).on("focus.tt",r).on("keydown.tt",f);if(!t.isMsie()||t.isMsie()>9)this.$input.on("input.tt",e);else this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(i){u[i.which||i.keyCode]||t.defer(t.bind(n._onInput,n,i))});return this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(n,t){this.setInputValue(n);this._setQuery(n,t)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(n){this.$input.val(n);this.clearHintIfInvalid();this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(n){this.$hint.val(n)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var n,t,i,r;n=this.getInputValue();t=this.getHint();i=n!==t&&t.indexOf(n)===0;r=n!==""&&i&&!this.hasOverflow();r||this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var n=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=n},isCursorAtEnd:function(){var n,i,r;return(n=this.$input.val().length,i=this.$input[0].selectionStart,t.isNumber(i))?i===n:document.selection?(r=document.selection.createRange(),r.moveStart("character",-n),n===r.text.length):!0},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$overflowHelper.remove();this.$hint=this.$input=this.$overflowHelper=n("<div>")}}),i}(),f=function(){"use strict";function u(i,r){i=i||{};i.templates=i.templates||{};i.templates.notFound=i.templates.notFound||i.templates.empty;i.source||n.error("missing source");i.node||n.error("missing node");i.name&&!h(i.name)&&n.error("invalid dataset name: "+i.name);r.mixin(this);this.highlight=!!i.highlight;this.name=i.name||f();this.limit=i.limit||5;this.displayFn=e(i.display||i.displayKey);this.templates=o(i.templates,this.displayFn);this.source=i.source.__ttAdapter?i.source.__ttAdapter():i.source;this.async=t.isUndefined(i.async)?this.source.length>2:!!i.async;this._resetLastSuggestion();this.$el=n(i.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function e(n){function i(t){return t[n]}return n=n||t.stringify,t.isFunction(n)?n:i}function o(i,r){function u(t){return n("<div>").text(r(t))}return{notFound:i.notFound&&t.templatify(i.notFound),pending:i.pending&&t.templatify(i.pending),header:i.header&&t.templatify(i.header),footer:i.footer&&t.templatify(i.footer),suggestion:i.suggestion||u}}function h(n){return/^[_a-zA-Z0-9-]+$/.test(n)}var i,f;return i={val:"tt-selectable-display",obj:"tt-selectable-object"},f=t.getIdGenerator(),u.extractData=function(t){var r=n(t);return r.data(i.obj)?{val:r.data(i.val)||"",obj:r.data(i.obj)||null}:null},t.mixin(u.prototype,r,{_overwrite:function(n,t){t=t||[];t.length?this._renderSuggestions(n,t):this.async&&this.templates.pending?this._renderPending(n):!this.async&&this.templates.notFound?this._renderNotFound(n):this._empty();this.trigger("rendered",this.name,t,!1)},_append:function(n,t){t=t||[];t.length&&this.$lastSuggestion.length?this._appendSuggestions(n,t):t.length?this._renderSuggestions(n,t):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(n);this.trigger("rendered",this.name,t,!0)},_renderSuggestions:function(n,t){var i;i=this._getSuggestionsFragment(n,t);this.$lastSuggestion=i.children().last();this.$el.html(i).prepend(this._getHeader(n,t)).append(this._getFooter(n,t))},_appendSuggestions:function(n,t){var i,r;i=this._getSuggestionsFragment(n,t);r=i.children().last();this.$lastSuggestion.after(i);this.$lastSuggestion=r},_renderPending:function(n){var t=this.templates.pending;this._resetLastSuggestion();t&&this.$el.html(t({query:n,dataset:this.name}))},_renderNotFound:function(n){var t=this.templates.notFound;this._resetLastSuggestion();t&&this.$el.html(t({query:n,dataset:this.name}))},_empty:function(){this.$el.empty();this._resetLastSuggestion()},_getSuggestionsFragment:function(r,u){var f=this,e;return e=document.createDocumentFragment(),t.each(u,function(t){var u,o;o=f._injectQuery(r,t);u=n(f.templates.suggestion(o)).data(i.obj,t).data(i.val,f.displayFn(t)).addClass(f.classes.suggestion+" "+f.classes.selectable);e.appendChild(u[0])}),this.highlight&&s({className:this.classes.highlight,node:e,pattern:r}),n(e)},_getFooter:function(n,t){return this.templates.footer?this.templates.footer({query:n,suggestions:t,dataset:this.name}):null},_getHeader:function(n,t){return this.templates.header?this.templates.header({query:n,suggestions:t,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=n()},_injectQuery:function(n,i){return t.isObject(i)?t.mixin({_query:n},i):i},update:function(t){function e(n){u||(u=!0,n=(n||[]).slice(0,i.limit),r=n.length,i._overwrite(t,n),r<i.limit&&i.async&&i.trigger("asyncRequested",t))}function o(u){u=u||[];!f&&r<i.limit&&(i.cancel=n.noop,r+=u.length,i._append(t,u.slice(0,i.limit-r)),i.async&&i.trigger("asyncReceived",t))}var i=this,f=!1,u=!1,r=0;this.cancel();this.cancel=function(){f=!0;i.cancel=n.noop;i.async&&i.trigger("asyncCanceled",t)};this.source(t,e,o);u||e([])},cancel:n.noop,clear:function(){this._empty();this.cancel();this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=n("<div>")}}),u}(),i=function(){"use strict";function i(i,r){function e(t){var i=u.$node.find(t.node).first();return t.node=i.length?i:n("<div>").appendTo(u.$node),new f(t,r)}var u=this;i=i||{};i.node||n.error("node is required");r.mixin(this);this.$node=n(i.node);this.query=null;this.datasets=t.map(i.datasets,e)}return t.mixin(i.prototype,r,{_onSelectableClick:function(t){this.trigger("selectableClicked",n(t.currentTarget))},_onRendered:function(n,t,i,r){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetRendered",t,i,r)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function n(n){return n.isEmpty()}return t.every(this.datasets,n)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var n=this.getActiveSelectable();n&&n.removeClass(this.classes.cursor)},_ensureVisible:function(n){var t,i,r,u;t=n.position().top;i=t+n.outerHeight(!0);r=this.$node.scrollTop();u=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10);t<0?this.$node.scrollTop(r+t):u<i&&this.$node.scrollTop(r+(i-u))},bind:function(){var n=this,i=t.bind(this._onSelectableClick,this);this.$node.on("click.tt",this.selectors.selectable,i);return t.each(this.datasets,function(t){t.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open);this._removeCursor()},setLanguageDirection:function(n){this.$node.attr("dir",n)},selectableRelativeToCursor:function(n){var i,r,u,t;return r=this.getActiveSelectable(),i=this._getSelectables(),u=r?i.index(r):-1,t=u+n,t=(t+1)%(i.length+1)-1,t=t<-1?i.length-1:t,t===-1?null:i.eq(t)},setCursor:function(n){this._removeCursor();(n=n&&n.first())&&(n.addClass(this.classes.cursor),this._ensureVisible(n))},getSelectableData:function(n){return n&&n.length?f.extractData(n):null},getActiveSelectable:function(){var n=this._getSelectables().filter(this.selectors.cursor).first();return n.length?n:null},getTopSelectable:function(){var n=this._getSelectables().first();return n.length?n:null},update:function(n){function r(t){t.update(n)}var i=n!==this.query;return i&&(this.query=n,t.each(this.datasets,r)),i},empty:function(){function n(n){n.clear()}t.each(this.datasets,n);this.query=null;this.$node.addClass(this.classes.empty)},destroy:function(){function i(n){n.destroy()}this.$node.off(".tt");this.$node=n("<div>");t.each(this.datasets,i)}}),i}(),h=function(){"use strict";function r(){i.apply(this,[].slice.call(arguments,0))}var n=i.prototype;return t.mixin(r.prototype,i.prototype,{open:function(){return this._allDatasetsEmpty()||this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css(t==="ltr"?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),r}(),c=function(){"use strict";function r(r,u){var f,e,o,s,h,c,l,a,v,y,p;r=r||{};r.input||n.error("missing input");r.menu||n.error("missing menu");r.eventBus||n.error("missing event bus");u.mixin(this);this.eventBus=r.eventBus;this.minLength=t.isNumber(r.minLength)?r.minLength:1;this.input=r.input;this.menu=r.menu;this.enabled=!0;this.active=!1;this.input.hasFocus()&&this.activate();this.dir=this.input.getLangDir();this._hacks();this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this);f=i(this,"activate","open","_onFocused");e=i(this,"deactivate","_onBlurred");o=i(this,"isActive","isOpen","_onEnterKeyed");s=i(this,"isActive","isOpen","_onTabKeyed");h=i(this,"isActive","_onEscKeyed");c=i(this,"isActive","open","_onUpKeyed");l=i(this,"isActive","open","_onDownKeyed");a=i(this,"isActive","isOpen","_onLeftKeyed");v=i(this,"isActive","isOpen","_onRightKeyed");y=i(this,"_openIfActive","_onQueryChanged");p=i(this,"_openIfActive","_onWhitespaceChanged");this.input.bind().onSync("focused",f,this).onSync("blurred",e,this).onSync("enterKeyed",o,this).onSync("tabKeyed",s,this).onSync("escKeyed",h,this).onSync("upKeyed",c,this).onSync("downKeyed",l,this).onSync("leftKeyed",a,this).onSync("rightKeyed",v,this).onSync("queryChanged",y,this).onSync("whitespaceChanged",p,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(n){var i=[].slice.call(arguments,1);return function(){var r=[].slice.call(arguments);t.each(i,function(t){return n[t].apply(n,r)})}}return t.mixin(r.prototype,{_hacks:function(){var r,i;r=this.input.$input||n("<div>");i=this.menu.$node||n("<div>");r.on("blur.tt",function(n){var u,f,e;u=document.activeElement;f=i.is(u);e=i.has(u).length>0;t.isMsie()&&(f||e)&&(n.preventDefault(),n.stopImmediatePropagation(),t.defer(function(){r.focus()}))});i.on("mousedown.tt",function(n){n.preventDefault()})},_onSelectableClicked:function(n,t){this.select(t)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(n,t,i,r){this._updateHint();this.eventBus.trigger("render",i,r,t)},_onAsyncRequested:function(n,t,i){this.eventBus.trigger("asyncrequest",i,t)},_onAsyncCanceled:function(n,t,i){this.eventBus.trigger("asynccancel",i,t)},_onAsyncReceived:function(n,t,i){this.eventBus.trigger("asyncreceive",i,t)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(n,t){var i;(i=this.menu.getActiveSelectable())&&this.select(i)&&t.preventDefault()},_onTabKeyed:function(n,t){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&t.preventDefault():(i=this.menu.getTopSelectable())&&this.autocomplete(i)&&t.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){this.dir==="rtl"&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){this.dir==="ltr"&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(n,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(n,t){this.dir!==t&&(this.dir=t,this.menu.setLanguageDirection(t))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(n){return n=t.isString(n)?n:this.input.getQuery()||"",n.length>=this.minLength},_updateHint:function(){var f,i,n,e,o,s,r;f=this.menu.getTopSelectable();i=this.menu.getSelectableData(f);n=this.input.getInputValue();!i||t.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(e=u.normalizeQuery(n),o=t.escapeRegExChars(e),s=new RegExp("^(?:"+o+")(.+$)","i"),r=s.exec(i.val),r&&this.input.setHint(n+r[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(n){this.input.setQuery(t.toStr(n))},getVal:function(){return this.input.getQuery()},select:function(n){var t=this.menu.getSelectableData(n);return t&&!this.eventBus.before("select",t.obj)?(this.input.setQuery(t.val,!0),this.eventBus.trigger("select",t.obj),this.close(),!0):!1},autocomplete:function(n){var i,t,r;return(i=this.input.getQuery(),t=this.menu.getSelectableData(n),r=t&&i!==t.val,r&&!this.eventBus.before("autocomplete",t.obj))?(this.input.setQuery(t.val),this.eventBus.trigger("autocomplete",t.obj),!0):!1},moveCursor:function(n){var u,i,t,r,f;return(u=this.input.getQuery(),i=this.menu.selectableRelativeToCursor(n),t=this.menu.getSelectableData(i),r=t?t.obj:null,f=this._minLengthMet()&&this.menu.update(u),!f&&!this.eventBus.before("cursorchange",r))?(this.menu.setCursor(i),t?this.input.setInputValue(t.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0):!1},destroy:function(){this.input.destroy();this.menu.destroy()}}),r}();(function(){"use strict";function r(t,i){t.each(function(){var t=n(this),r;(r=t.data(f.typeahead))&&i(r,t)})}function v(n,t){return n.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css(p(n)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function y(n,t){n.data(f.attrs,{dir:n.attr("dir"),autocomplete:n.attr("autocomplete"),spellcheck:n.attr("spellcheck"),style:n.attr("style")});n.addClass(t.classes.input).attr({autocomplete:"off",spellcheck:!1});try{n.attr("dir")||n.attr("dir","auto")}catch(i){}return n}function p(n){return{backgroundAttachment:n.css("background-attachment"),backgroundClip:n.css("background-clip"),backgroundColor:n.css("background-color"),backgroundImage:n.css("background-image"),backgroundOrigin:n.css("background-origin"),backgroundPosition:n.css("background-position"),backgroundRepeat:n.css("background-repeat"),backgroundSize:n.css("background-size")}}function w(n){var r,i;r=n.data(f.www);i=n.parent().filter(r.selectors.wrapper);t.each(n.data(f.attrs),function(i,r){t.isUndefined(i)?n.removeAttr(r):n.attr(r,i)});n.removeData(f.typeahead).removeData(f.www).removeData(f.attr).removeClass(r.classes.input);i.length&&(n.detach().insertAfter(i),i.remove())}function a(i){var u,r;return u=t.isJQuery(i)||t.isElement(i),r=u?n(i).first():[],r.length?r:null}var l,f,s;l=n.fn.typeahead;f={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"};s={initialize:function(r,s){function p(){var e,d,p,w,b,k,g,nt,tt,it,rt;t.each(s,function(n){n.highlight=!!r.highlight});e=n(this);d=n(l.html.wrapper);p=a(r.hint);w=a(r.menu);b=r.hint!==!1&&!p;k=r.menu!==!1&&!w;b&&(p=v(e,l));k&&(w=n(l.html.menu).css(l.css.menu));p&&p.val("");e=y(e,l);(b||k)&&(d.css(l.css.wrapper),e.css(b?l.css.input:l.css.inputWithNoHint),e.wrap(d).parent().prepend(b?p:null).append(k?w:null));rt=k?h:i;g=new o({el:e});nt=new u({hint:p,input:e},l);tt=new rt({node:w,datasets:s},l);it=new c({input:nt,menu:tt,eventBus:g,minLength:r.minLength},l);e.data(f.www,l);e.data(f.typeahead,it)}var l;return s=t.isArray(s)?s:[].slice.call(arguments,1),r=r||{},l=e(r.classNames),this.each(p)},isEnabled:function(){var n;return r(this.first(),function(t){n=t.isEnabled()}),n},enable:function(){return r(this,function(n){n.enable()}),this},disable:function(){return r(this,function(n){n.disable()}),this},isActive:function(){var n;return r(this.first(),function(t){n=t.isActive()}),n},activate:function(){return r(this,function(n){n.activate()}),this},deactivate:function(){return r(this,function(n){n.deactivate()}),this},isOpen:function(){var n;return r(this.first(),function(t){n=t.isOpen()}),n},open:function(){return r(this,function(n){n.open()}),this},close:function(){return r(this,function(n){n.close()}),this},select:function(t){var i=!1,u=n(t);return r(this.first(),function(n){i=n.select(u)}),i},autocomplete:function(t){var i=!1,u=n(t);return r(this.first(),function(n){i=n.autocomplete(u)}),i},moveCursor:function(n){var t=!1;return r(this.first(),function(i){t=i.moveCursor(n)}),t},val:function(n){var t;return arguments.length?(r(this,function(t){t.setVal(n)}),this):(r(this.first(),function(n){t=n.getVal()}),t)},destroy:function(){return r(this,function(n,t){w(t);n.destroy()}),this}};n.fn.typeahead=function(n){return s[n]?s[n].apply(this,[].slice.call(arguments,1)):s.initialize.apply(this,arguments)};n.fn.typeahead.noConflict=function(){return n.fn.typeahead=l,this}})()});$(document).ready(function(){function e(){var n=$(window).width();number=n>991?3:n>375?2:1}var n,t,i,r,u,f;e();$(window).on("resize",e);$(".slick-carousel").on("init",function(){$(".slick-carousel").css({visibility:"visible"})});if($("div").is(".carousel-popular-theme")){n=$(".paging-popular-theme");t=$(".carousel-popular-theme");t.on("init reInit afterChange",function(t,i,r){var u=(r?r:0)+number;u>i.slideCount?n.text(i.slideCount+"/"+i.slideCount):n.text(u+"/"+i.slideCount)});t.slick({infinite:!1,speed:300,slidesToShow:3,slidesToScroll:3,arrows:!0,responsive:[{breakpoint:991,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:375,settings:{slidesToShow:1,slidesToScroll:1}}]})}if($("div").is(".carousel-editorial-choice")){i=$(".paging-editorial-choice");r=$(".carousel-editorial-choice");r.on("init reInit afterChange",function(n,t,r){var u=(r?r:0)+number;u>t.slideCount?i.text(t.slideCount+"/"+t.slideCount):i.text(u+"/"+t.slideCount)});r.slick({infinite:!1,speed:300,slidesToShow:3,slidesToScroll:3,arrows:!0,responsive:[{breakpoint:991,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:375,settings:{slidesToShow:1,slidesToScroll:1}}]})}if($("div").is(".carousel-top-blog")){u=$(".carousel-top-blog");f=$(".paging-blog");u.on("init reInit afterChange",function(n,t,i){var r=(i?i:0)+number;r>t.slideCount?f.text(t.slideCount+"/"+t.slideCount):f.text(r+"/"+t.slideCount)});u.slick({infinite:!1,speed:300,slidesToShow:3,slidesToScroll:3,arrows:!0,responsive:[{breakpoint:991,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:375,settings:{slidesToShow:1,slidesToScroll:1}}]})}});$(".input-value").keyup(function(){var n=$(this),t=n.val(),i,r,u;$("."+n.attr("id")+"").html(n.val());t.length>1?$("."+n.attr("id")+"").prev("i").removeClass("d-none"):t.length<1&&$("."+n.attr("id")+"").prev("i").addClass("d-none");i=$("#input-value-name").val();i.length<1&&$(".input-value-name").html("Ім’я");r=$("#input-value-lastname").val();r.length<1&&$(".input-value-lastname").html("Прізвище");u=$("#input-value-autobiography").val();u.length<1&&$(".input-value-autobiography").html("Ваша біографія")});$(".item-blog-news").each(function(){var n=$(this),t=n.find(".title-news").height();t<19&&n.find(".text-news").removeClass("brief-description")});$(".item-all-news").each(function(){var n=$(this),t=n.find(".title-news").height();t<19&&n.find(".text-news").removeClass("brief-description")});$(".btn-edit").click(function(){var n=$(this).parents(".block-edit").data("edit"),t=$(".edit-"+n).find(".form-control"),i=$(".edit-"+n).find(".upload-result"),r=$(".edit-"+n).find("#upload");$(".edit-"+n).find("button.btn-edit").attr("hidden","hidden");$(".edit-"+n).find('button[type="submit"]').removeAttr("hidden");$(t).hasClass("disabled")&&(t.removeClass("disabled"),t.removeAttr("disabled readonly"),i.removeAttr("disabled"),r.removeAttr("disabled"))});$(function(n){var t=window.location.href;n(".navbar-nav a").each(function(){this.href===t&&n(this).parent().addClass("active")})});$("div").is(".grid")&&$(".grid").masonry({itemSelector:".grid-item"});$("textarea").is(".textarea")&&tinymce.init({selector:".textarea",language:"uk_UA"});$("div").is("#upload-demo")&&(Cropper=function(){function t(n){n.src&&(console.log(n),$("#img-upload").attr("style","background-image: url("+n.src+");"))}function i(){function i(t){if(t.files&&t.files[0]){var i=new FileReader;i.onload=function(t){$(".upload-demo").addClass("ready");n.croppie("bind",{url:t.target.result}).then(function(){})};i.readAsDataURL(t.files[0])}else swal("Sorry - you're browser doesn't support the FileReader API")}$(document).ready(function(){const t=$('input[name="CropPoints"]').val();t&&n.croppie("bind",{url:$("#userPhoto").attr("src"),points:JSON.parse(t)}).then(function(){})});$("#upload").on("change",function(){i(this)});$(".upload-result").on("click",function(){n.croppie("result",{type:"canvas",size:"viewport"}).then(function(n){t({src:n});$("#cropped").attr("src",n)})})}function r(){i()}var n=$("#upload-demo").croppie({viewport:{width:100,height:100,type:"circle"},enableExif:!0});return{init:r}}(),Cropper.init());$("form").is(".validate")&&(myLanguage={errorTitle:"Не вдалося надіслати форму!",requiredFields:"Ви не заповнили всі обов’язкові поля",badTime:"Введено некоректний час",badEmail:"Введено некоректний email",badTelephone:"Введено неправильний номер телефону",badSecurityAnswer:"Ви ввели неправильну відповідь на секретне запитання",badDate:"Введено некоректну дату",lengthBadStart:"Введене значення повинне бути між ",lengthBadEnd:" символи",lengthTooLongStart:"Введене значення більше ніж ",lengthTooShortStart:"Введене значення менше ніж ",notConfirmed:"Введені значення не можуть бути підтверджені",badDomain:"Некоректне ім’я домену",badUrl:"Некоректне URL значення",badCustomVal:"Введено некоректне значення",andSpaces:" і пробіли ",badInt:"Введене значення не є коректним числом",badSecurityNumber:"Your social security number was incorrect",badUKVatAnswer:"Incorrect UK VAT Number",badStrength:"Пароль є занадто слабким",badNumberOfSelectedOptionsStart:"Виберіть принаймні ",badNumberOfSelectedOptionsEnd:" відповіді",badAlphaNumeric:"Введені значення мають бути лише алфавітними символами ",badAlphaNumericExtra:" і ",wrongFileSize:"Файл, який ви намагаєтесь завантажити занадто великий (макс. %s)",wrongFileType:"Тільки файли типу %s  є дозволеними",groupCheckedRangeStart:"Будь ласка, виберіть між ",groupCheckedTooFewStart:"Будь ласка, виберіть принаймні ",groupCheckedTooManyStart:"Будь ласка, виберіть максимум з ",groupCheckedEnd:" item(s)",badCreditCard:"Номер кредитної карти є некоректним",badCVV:"The CVV number was not correct",wrongFileDim:"Некоретне розширення зображення,",imageTooTall:"зображення не може бути вище, ніж",imageTooWide:"зображення не може бути ширше, ніж",imageTooSmall:"зображення занадто мале",min:"мін",max:"макс",imageRatioNotAccepted:"Співвідношення зображення не є прийнятним"},$.validate({language:myLanguage,modules:"security",onModulesLoaded:function(){$('input[name="pass_confirmation"]').displayPasswordStrength({fontSize:"12pt",padding:"7px",bad:"",weak:"",good:"",strong:""})}})),function(n,t,i){const u=n.getElementsByTagName(t)[0];if(!n.getElementById(i)){const r=n.createElement(t);r.id=i;r.async=!0;r.src="//connect.facebook.net/uk_UA/sdk.js#xfbml=1&version=v2.10&appId=182308379009421";u.parentNode.insertBefore(r,u)}}(document,"script","facebook-jssdk");window.twttr=function(n,t,i){var u,f=n.getElementsByTagName(t)[0],r=window.twttr||{};return n.getElementById(i)?r:(u=n.createElement(t),u.id=i,u.src="https://platform.twitter.com/widgets.js",f.parentNode.insertBefore(u,f),r._e=[],r.ready=function(n){r._e.push(n)},r)}(document,"script","twitter-wjs");let moreNewsPage=1,moreLastNewsPage=1,moreLastBlogsPage=1,moreNewsLimit=10;$(document).ready(function(){$(".btn-more.dynamic").click(function(n){n.preventDefault();moreNewsPage+=1;getMoreNews.apply(this,[$(this).data("categoryName"),moreNewsPage,moreNewsLimit,"/api/news/morenews",".category-news-body"])});$(".btn-more.lastnews").click(function(n){n.preventDefault();moreLastNewsPage+=1;getMoreNews.apply(this,["",moreLastNewsPage,moreNewsLimit,"/api/news/morelastnews",".last-news-wrapper"])});$(".btn-more.lastblogs").click(function(n){n.preventDefault();moreLastBlogsPage+=1;getMoreNews.apply(this,["",moreLastBlogsPage,moreNewsLimit,"/api/blogs/morelastblogs",".last-blogs-wrapper"])})});let getMoreNews=function(n,t,i,r,u){const f=`?categoryUrl=${n}&page=${t}&limit=${i}`;$.ajax({url:`${r+f}`,type:"GET",success:function(n){$(u).append(n);console.log($(".numberOfPosts").last().val());$(".numberOfPosts").last().val()<moreNewsLimit&&$(".wrapper-btn-more").attr("hidden","true")}})},searchMoreResultPage=1;const searchMoreResultCount=5;let searchCategoryUrlQuery="",searchDateQuery="",searchTextQuery="",searchTagQuery="";$(document).ready(function(){var n,t,i,r;searchTagQuery=$(".title-page-search").data("tag");searchCategoryUrlQuery=$(".title-page-search").data("category-url");searchTextQuery=$(".title-page-search").data("query");$.fn.datepicker.language.ua={days:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"],daysShort:["Нед","Пон","Вів","Сер","Чет","П'ят","Суб"],daysMin:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],monthsShort:["Січ","Лют","Бер","Квіт","Трав","Чер","Лип","Серп","Вер","Жов","Лсит","Гру"],today:"Сьогодні",clear:"Очистити",dateFormat:"DD dd.mm.yyyy",timeFormat:"hh:ii"};n=new Date(moment($(".date").val(),"DD.MM.YYYY").toDate());$("#my-datepicker").datepicker({language:"ua",maxDate:new Date,onSelect:function(n,t){searchMoreResultPage=1;searchDateQuery=t&&t!=="null"?t.toUTCString():"";getSearchResult(searchCategoryUrlQuery,searchTextQuery,searchDateQuery,searchMoreResultPage,searchMoreResultCount,searchTagQuery)},onRenderCell:function(t){return console.log(moment(n).format("YYYY-MM-DD")),!isNaN(n)&&moment(t).format("YYYY-MM-DD")===moment(n).format("YYYY-MM-DD")?{classes:"-selected-"}:void 0}});isNaN(n)||($("#my-datepicker").data("datepicker").date=n);n=isNaN(n)?new Date:n;t=new Array(7);t[0]="Неділя";t[1]="Понеділок";t[2]="Вівторок";t[3]="Середа";t[4]="Четвер";t[5]="П'ятниця";t[6]="Субота";i=t[n.getDay()];r=n.toLocaleDateString();$("#my-datepicker").val(i+" "+r);$("#postTextQuery").blur(function(){searchTextQuery=$(this).val()});$("#searchForm").submit(function(n){n.preventDefault();searchMoreResultPage=1;getSearchResult(searchCategoryUrlQuery,$("#postTextQuery").val(),searchDateQuery,searchMoreResultPage,searchMoreResultCount,searchTagQuery)});$(".dropdown-item").click(function(){$("#dropdownMenu2").text($(this).text());searchMoreResultPage=1;searchCategoryUrlQuery=$(this).data("categoryUrl");getSearchResult(searchCategoryUrlQuery,searchTextQuery,searchDateQuery,searchMoreResultPage,searchMoreResultCount,searchTagQuery)});$("#moreSearchResult").click(function(n){n.preventDefault();searchMoreResultPage+=1;getMoreSearchResult.apply(this,[searchCategoryUrlQuery,searchTextQuery,searchDateQuery,searchMoreResultPage,searchMoreResultCount,searchTagQuery])})});let getMoreSearchResult=function(n,t,i,r,u,f){const e=`?categoryUrl=${n}&query=${t}&date=${i}&page=${r}&count=${u}&tag=${f}`;$.ajax({url:`/api/search/posts${e}`,type:"GET",success:function(n){$("#searchResultContainer").append(n);console.log($(".numberOfPosts").last().val());$(".numberOfPosts").last().val()<searchMoreResultCount&&$(".wrapper-btn-more").attr("hidden","true")}})},getSearchResult=function(n,t,i,r,u,f){window.location.href=f?`/search/searchbytag?tag=${f}&categoryUrl=${n}`:`/search/posts?categoryUrl=${n}&query=${t}&date=${i}&page=${r}&count=${u}`},userPostTags=[];$(document).ready(function(){$("#logoff").click(function(n){n.preventDefault();logOff()});$("#imgInp").change(function(){readURL(this)});$("#createUserPostForm").submit(function(n){n.preventDefault();PostAJAX(getCreatePostFormData(this),$(this).attr("action"))});$("#registerUserForm").submit(function(n){n.preventDefault();createRegisterAJAX(getRegistrationFormData(this))});$("#updateUserDataForm").submit(function(n){n.preventDefault();PostAJAX(getUpdateUserDataForm(this),$(this).attr("action"))});$("#updateUserPasswordForm").submit(function(n){n.preventDefault();PostAJAX(getUpdateUserPasswordForm(this),$(this).attr("action"))});$("#updateUserBiographyForm").submit(function(n){n.preventDefault();PostAJAX(getUserBiographyFormData(this),$(this).attr("action"))});initUserTinyMCE();getAllTags()});let readURL=function(n){if(n.files&&n.files[0]){var t=new FileReader;t.onload=function(n){$("#imgPrev").attr("src",n.target.result)};t.readAsDataURL(n.files[0])}},getCreatePostFormData=function(){const n=new FormData(document.getElementById("createUserPostForm"));let t=$("#userPostTags").tagsinput("items");n.set("Article",tinyMCE.get("createUserPost").getContent());for(let i=0;i<t.length;i++)n.append(`Tags[`+i+`].Name`,t[i]);return n},getRegistrationFormData=function(){const n=new FormData(document.getElementById("registerUserForm"));n.append("Photo",$(`#upload`).get(0).files===null?null:$(`#upload`).get(0).files[0]);n.append("Password",$("input[name='pass_confirmation']").val());var t=$("#upload-demo").croppie("get").points;for(let i=0;i<t.length;i++)n.append(`CropPoints[`+i+`]`,t[i]);return n.append("Socials[0]",$("#input-value-fb").val()),n.append("Socials[1]",$("#input-value-tw").val()),n.append("Socials[2]",$("#input-value-google").val()),n},getUserBiographyFormData=function(){const n=new FormData(document.getElementById("updateUserBiographyForm"));n.append("Image",$(`#upload`).get(0).files===null?null:$(`#upload`).get(0).files[0]);n.append("Photo",$("#userPhoto").attr("src"));var t=$("#upload-demo").croppie("get").points;for(let i=0;i<t.length;i++)n.append(`Points[`+i+`]`,t[i]);return n.append("Socials[0]",$("#input-value-fb").val()),n.append("Socials[1]",$("#input-value-tw").val()),n.append("Socials[2]",$("#input-value-google").val()),n},getUpdateUserDataForm=function(){return new FormData(document.getElementById("updateUserDataForm"))},getUpdateUserPasswordForm=function(){const n=new FormData(document.getElementById("updateUserPasswordForm"));return n.append("Password",$("input[name='pass_old']").val()),n.append("NewPassword",$("input[name='pass_confirmation']").val()),n},getAllTags=function(){$.ajax({url:"/api/TagsApi/GetAllTags",type:"GET",success:function(n){n.data.map(n=>{userPostTags.push(n.name)});initUserTagsInput()}})},substringMatcher=function(n){return function(t,i){let r=[],u=new RegExp(t,"i");$.each(n,function(n,t){u.test(t)&&r.push(t)});i(r)}},initUserTinyMCE=function(){tinymce.init({selector:"textarea#createUserPost",theme:"modern",width:680,height:300,plugins:["advlist autolink link image lists charmap print preview hr anchor pagebreak spellchecker","searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking","save table contextmenu directionality emoticons template paste textcolor"],toolbar:"insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | print preview media fullpage | forecolor backcolor emoticons",style_formats:[{title:"Bold text",inline:"b"},{title:"Red text",inline:"span",styles:{color:"#ff0000"}},{title:"Red header",block:"h1",styles:{color:"#ff0000"}},{title:"Example 1",inline:"span",classes:"example1"},{title:"Example 2",inline:"span",classes:"example2"},{title:"Table styles"},{title:"Table row 1",selector:"tr",classes:"tablerow1"}]})},initUserTagsInput=function(){$("#userPostTags").tagsinput({typeaheadjs:{name:"userPostTags",source:substringMatcher(userPostTags)}})},logOff=function(){$.ajax({url:"/account/logoff",type:"POST",success:function(n){window.location.href=n}})},PostAJAX=function(n,t){$.ajax({url:t,type:"POST",data:n,cache:!1,contentType:!1,processData:!1,success:function(n){window.location.href=n}})},createRegisterAJAX=function(n){$.ajax({url:"/account/register",type:"POST",data:n,cache:!1,contentType:!1,processData:!1,success:function(n){window.location.href=n}})};